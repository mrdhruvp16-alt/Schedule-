<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>CampUs — Campus Dating</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=DM+Sans:opsz,wght@9..40,300;9..40,400;9..40,500;9..40,600&display=swap" rel="stylesheet">
<style>
:root {
  --rose: #E8453A; --rose-l: #FF6B6B; --gold: #F4A942;
  --green: #22C55E; --blue: #3B82F6;
  --bg: #F7F5F3; --card: #FFFFFF; --border: #E8E6E2;
  --text: #1C1B1A; --sub: #8A8885; --light: #F0EEE9;
  --serif: 'DM Serif Display', serif; --sans: 'DM Sans', sans-serif;
  --topbar: 58px; --r: 20px;
  --sh: 0 2px 8px rgba(0,0,0,.07), 0 12px 32px rgba(0,0,0,.09);
  --sh-sm: 0 1px 4px rgba(0,0,0,.06), 0 4px 16px rgba(0,0,0,.08);
}
[data-dark] {
  --bg:#121110; --card:#252220; --border:#2E2B28;
  --text:#F0EDE9; --sub:#7A7672; --light:#1A1816;
}
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;}
html,body{height:100%;overflow:hidden;font-family:var(--sans);background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased;}
input,button,textarea,select{font-family:var(--sans);}

/* PAGES */
.pg{display:none;height:100%;flex-direction:column;overflow:hidden;}
.pg.on{display:flex;}
#pg-land{overflow-y:auto;}

/* LAND NAV */
.land-nav{
  position:sticky;top:0;z-index:100;
  display:flex;align-items:center;justify-content:space-between;
  padding:0 5vw;height:64px;
  background:rgba(247,245,243,.92);backdrop-filter:blur(20px);
  border-bottom:1px solid var(--border);
}
[data-dark] .land-nav{background:rgba(18,17,16,.92);}
.logo{font-family:var(--serif);font-size:1.7rem;letter-spacing:-.02em;}
.logo b{color:var(--rose);}
.land-nav-r{display:flex;align-items:center;gap:10px;}

/* HERO */
.hero{
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  text-align:center;padding:90px 5vw 70px;min-height:92vh;position:relative;overflow:hidden;
}
.blob{position:absolute;border-radius:50%;pointer-events:none;}
.blob1{width:600px;height:600px;background:radial-gradient(rgba(232,69,58,.1),transparent 70%);top:-150px;right:-150px;}
.blob2{width:500px;height:500px;background:radial-gradient(rgba(244,169,66,.08),transparent 70%);bottom:-100px;left:-100px;}
.hero-pill{display:inline-flex;align-items:center;gap:8px;background:var(--card);border:1px solid var(--border);border-radius:100px;padding:7px 18px;font-size:.78rem;font-weight:600;color:var(--sub);margin-bottom:28px;box-shadow:var(--sh-sm);}
.hero-pill .dot{width:7px;height:7px;background:var(--green);border-radius:50%;animation:blink 2s infinite;}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.4}}
.hero h1{font-family:var(--serif);font-size:clamp(2.8rem,7vw,5.5rem);line-height:1.05;letter-spacing:-.025em;margin-bottom:20px;max-width:700px;}
.hero h1 em{color:var(--rose);font-style:italic;}
.hero > p{font-size:1.05rem;color:var(--sub);max-width:460px;line-height:1.72;margin-bottom:36px;}
.hero-cta{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin-bottom:56px;}
.card-trio{display:flex;gap:14px;align-items:flex-end;justify-content:center;}
.mini-card{background:var(--card);border-radius:18px;box-shadow:var(--sh);overflow:hidden;width:130px;flex-shrink:0;}
.mini-card-img{height:165px;}
.mc2 .mini-card-img{height:185px;}
.mini-card-body{padding:10px 12px 14px;}
.mini-card-body h5{font-size:.85rem;font-weight:600;}
.mini-card-body p{font-size:.72rem;color:var(--sub);margin-top:1px;}
.mini-card-match{display:inline-block;background:var(--rose);color:#fff;border-radius:100px;padding:3px 10px;font-size:.7rem;font-weight:700;margin-top:6px;}

/* LAND SECTIONS */
.land-sec{padding:80px 5vw;max-width:1100px;margin:0 auto;width:100%;}
.sec-badge{font-size:.72rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;color:var(--rose);margin-bottom:12px;}
.sec-title{font-family:var(--serif);font-size:clamp(1.9rem,3.5vw,2.9rem);line-height:1.15;letter-spacing:-.02em;margin-bottom:14px;}
.sec-sub{color:var(--sub);font-size:1rem;line-height:1.72;max-width:440px;}
.steps-g{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-top:44px;}
.step-c{background:var(--card);border:1px solid var(--border);border-radius:var(--r);padding:26px;}
.step-n{font-family:var(--serif);font-size:2.6rem;color:var(--rose);opacity:.22;line-height:1;margin-bottom:14px;}
.step-ico{width:42px;height:42px;border-radius:12px;background:rgba(232,69,58,.1);display:flex;align-items:center;justify-content:center;margin-bottom:14px;}
.step-ico svg{stroke:var(--rose);}
.step-c h3{font-size:.93rem;font-weight:600;margin-bottom:6px;}
.step-c p{font-size:.84rem;color:var(--sub);line-height:1.65;}

.feat-g{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:1px;background:var(--border);border:1px solid var(--border);border-radius:var(--r);overflow:hidden;margin-top:44px;}
.feat{background:var(--card);padding:28px 24px;}
.feat h3{font-size:.93rem;font-weight:600;margin-bottom:6px;margin-top:12px;}
.feat p{font-size:.84rem;color:var(--sub);line-height:1.65;}

.trust-bar{background:var(--card);border-top:1px solid var(--border);border-bottom:1px solid var(--border);padding:22px 5vw;display:flex;justify-content:center;gap:40px;flex-wrap:wrap;}
.trust-stat h3{font-family:var(--serif);font-size:1.9rem;}
.trust-stat p{font-size:.79rem;color:var(--sub);margin-top:2px;}

.cta-bar{background:var(--rose);padding:72px 5vw;text-align:center;}
.cta-bar h2{font-family:var(--serif);font-size:clamp(1.9rem,4vw,2.9rem);color:#fff;margin-bottom:14px;}
.cta-bar p{color:rgba(255,255,255,.75);font-size:.98rem;margin-bottom:30px;}

.land-foot{padding:28px 5vw;border-top:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:12px;}
.land-foot p{font-size:.79rem;color:var(--sub);}
.foot-links{display:flex;gap:18px;}
.foot-links a{font-size:.79rem;color:var(--sub);text-decoration:none;}

/* BUTTONS */
.btn{display:inline-flex;align-items:center;justify-content:center;gap:6px;cursor:pointer;border:none;font-family:var(--sans);font-weight:600;transition:all .2s;border-radius:100px;white-space:nowrap;}
.btn-primary{background:var(--rose);color:#fff;padding:12px 22px;font-size:.9rem;}
.btn-primary:hover{background:#cf3d33;transform:translateY(-1px);}
.btn-outline{background:transparent;color:var(--text);padding:11px 20px;font-size:.9rem;border:1.5px solid var(--border);}
.btn-outline:hover{border-color:var(--text);}
.btn-sm{padding:8px 16px;font-size:.82rem;}
.btn-white{background:#fff;color:var(--rose);padding:13px 30px;font-size:1rem;}
.btn-white:hover{background:#f5f5f5;}
.bico{width:38px;height:38px;border-radius:11px;background:none;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--sub);transition:all .2s;}
.bico:hover{background:var(--light);color:var(--text);}

/* MODALS */
.overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.52);z-index:1000;align-items:center;justify-content:center;padding:16px;backdrop-filter:blur(5px);}
.overlay.on{display:flex;}
.modal{background:var(--card);border-radius:24px;width:min(420px,100%);max-height:90vh;overflow-y:auto;box-shadow:0 32px 80px rgba(0,0,0,.25);animation:mIn .3s cubic-bezier(.34,1.3,.64,1);}
@keyframes mIn{from{opacity:0;transform:scale(.88)translateY(24px)}to{opacity:1;transform:none}}
.modal-hd{padding:30px 30px 0;text-align:center;}
.modal-hd .logo{font-size:1.9rem;display:block;margin-bottom:18px;}
.modal-hd h2{font-family:var(--serif);font-size:1.65rem;margin-bottom:5px;}
.modal-hd p{font-size:.875rem;color:var(--sub);}
.modal-bd{padding:22px 30px 30px;}
.fg{margin-bottom:14px;}
.fg label{font-size:.77rem;font-weight:600;color:var(--sub);display:block;margin-bottom:5px;letter-spacing:.02em;}
.fg input,.fg select,.fg textarea{width:100%;padding:12px 14px;border:1.5px solid var(--border);border-radius:11px;font-size:.9rem;background:var(--light);color:var(--text);outline:none;transition:border-color .2s;}
.fg input:focus,.fg select:focus{border-color:var(--rose);box-shadow:0 0 0 3px rgba(232,69,58,.1);}
.fg .err{font-size:.77rem;color:#E53E3E;margin-top:4px;display:none;}
.fg .err.on{display:block;}
.fg input.bad{border-color:#E53E3E;}
.modal-bd .btn-primary{width:100%;padding:13px;border-radius:11px;font-size:.94rem;margin-top:4px;}
.modal-sw{text-align:center;margin-top:16px;font-size:.84rem;color:var(--sub);}
.modal-sw a{color:var(--rose);font-weight:600;cursor:pointer;}
.modal-x{position:absolute;top:12px;right:12px;width:34px;height:34px;border-radius:50%;border:none;background:var(--light);cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--sub);}

/* SETUP */
.setup-bar{display:flex;gap:5px;padding:0 30px 20px;}
.setup-step{flex:1;height:4px;border-radius:2px;background:var(--border);transition:background .3s;}
.setup-step.done{background:var(--rose);}
.sp{display:none;}
.sp.on{display:block;}
.int-grid{display:flex;flex-wrap:wrap;gap:7px;margin-top:8px;}
.int-chip{padding:7px 14px;border-radius:100px;border:1.5px solid var(--border);font-size:.82rem;font-weight:500;cursor:pointer;transition:all .2s;background:var(--card);}
.int-chip.sel{background:var(--rose);color:#fff;border-color:var(--rose);}
.ph-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:7px;margin-top:10px;}
.ph-slot{aspect-ratio:3/4;border-radius:11px;background:var(--light);border:1.5px dashed var(--border);display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;}
.ph-slot:first-child{grid-column:span 2;grid-row:span 2;}

/* APP SHELL */
#pg-app{height:100%;flex-direction:column;}
.app-shell{display:flex;flex:1;overflow:hidden;}

/* SIDEBAR */
.sb{
  width:70px;background:var(--card);border-right:1px solid var(--border);
  display:flex;flex-direction:column;align-items:center;padding:14px 0;gap:2px;flex-shrink:0;
}
.sb-logo{font-family:var(--serif);font-size:1.2rem;margin-bottom:14px;padding:6px;}
.sb-logo b{color:var(--rose);}
.sb-btn{
  width:46px;height:46px;border-radius:13px;display:flex;align-items:center;justify-content:center;
  cursor:pointer;color:var(--sub);border:none;background:none;transition:all .2s;position:relative;
}
.sb-btn:hover{background:var(--light);color:var(--text);}
.sb-btn.on{background:var(--rose);color:#fff;}
.sb-dot{position:absolute;top:8px;right:8px;width:7px;height:7px;background:var(--rose);border-radius:50%;border:2px solid var(--card);}
.sb-btn.on .sb-dot{background:#fff;}
.sb-sep{width:30px;height:1px;background:var(--border);margin:6px 0;}
.sb-bot{margin-top:auto;display:flex;flex-direction:column;align-items:center;gap:2px;}
.sb-av{width:34px;height:34px;border-radius:50%;background:linear-gradient(135deg,var(--rose),#ff8c7a);display:flex;align-items:center;justify-content:center;color:#fff;font-size:.78rem;font-weight:600;cursor:pointer;margin-bottom:4px;}

/* MAIN */
.main-wrap{flex:1;display:flex;flex-direction:column;overflow:hidden;}
.topbar{
  height:var(--topbar);padding:0 18px;
  display:flex;align-items:center;justify-content:space-between;
  background:var(--card);border-bottom:1px solid var(--border);flex-shrink:0;
}
.topbar-l{display:flex;align-items:center;gap:8px;}
.topbar-title{font-family:var(--serif);font-size:1.22rem;}
.topbar-r{display:flex;align-items:center;gap:3px;}
.main-body{flex:1;overflow-y:auto;overflow-x:hidden;}

/* TABS */
.tab{display:none;height:100%;}
.tab.on{display:flex;flex-direction:column;}

/* ── DISCOVER ── */
#t-disc{align-items:center;justify-content:flex-start;padding:14px 14px 0;}
.disc-inner{width:100%;max-width:390px;margin:0 auto;display:flex;flex-direction:column;align-items:center;}
.filter-row{display:flex;gap:7px;width:100%;margin-bottom:14px;overflow-x:auto;padding-bottom:3px;scrollbar-width:none;}
.filter-row::-webkit-scrollbar{display:none;}
.fchip{display:flex;align-items:center;gap:5px;padding:7px 13px;border-radius:100px;border:1.5px solid var(--border);background:var(--card);font-size:.77rem;font-weight:500;cursor:pointer;white-space:nowrap;transition:all .2s;color:var(--text);}
.fchip.on{border-color:var(--rose);color:var(--rose);background:rgba(232,69,58,.05);}

.card-stage{position:relative;width:min(340px,88vw);height:min(500px,66vw);min-height:420px;max-height:530px;flex-shrink:0;}
.scard{
  position:absolute;inset:0;border-radius:24px;overflow:hidden;
  box-shadow:0 4px 20px rgba(0,0,0,.12),0 24px 64px rgba(0,0,0,.16);
  cursor:grab;user-select:none;transition:transform .12s;background:#e0dbd5;
}
.scard:active{cursor:grabbing;}
.scard-ov{position:absolute;inset:0;background:linear-gradient(to top,rgba(0,0,0,.88) 0%,rgba(0,0,0,.18) 45%,transparent 75%);}
.scard-top{position:absolute;top:14px;left:14px;right:14px;display:flex;justify-content:space-between;align-items:flex-start;}
.scard-match{background:rgba(0,0,0,.48);backdrop-filter:blur(8px);color:#fff;border-radius:100px;padding:5px 12px;font-size:.74rem;font-weight:700;}
.scard-ver{background:rgba(34,197,94,.85);color:#fff;border-radius:100px;padding:5px 10px;font-size:.71rem;font-weight:700;display:flex;align-items:center;gap:3px;}
.scard-info{position:absolute;bottom:0;left:0;right:0;padding:18px 18px 74px;}
.scard-name{font-family:var(--serif);font-size:1.75rem;color:#fff;margin-bottom:2px;}
.scard-meta{font-size:.84rem;color:rgba(255,255,255,.78);margin-bottom:8px;}
.scard-bio{font-size:.81rem;color:rgba(255,255,255,.72);line-height:1.5;margin-bottom:8px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}
.scard-tags{display:flex;flex-wrap:wrap;gap:5px;}
.scard-tag{background:rgba(255,255,255,.16);backdrop-filter:blur(4px);color:#fff;padding:3px 9px;border-radius:100px;font-size:.71rem;}
.like-stamp{position:absolute;top:26px;left:18px;border:3px solid #4CAF50;color:#4CAF50;border-radius:7px;padding:3px 12px;font-weight:800;font-size:1rem;transform:rotate(-18deg);opacity:0;pointer-events:none;transition:opacity .15s;}
.pass-stamp{position:absolute;top:26px;right:18px;border:3px solid #E53E3E;color:#E53E3E;border-radius:7px;padding:3px 12px;font-weight:800;font-size:1rem;transform:rotate(18deg);opacity:0;pointer-events:none;transition:opacity .15s;}
.scard-footer{position:absolute;bottom:0;left:0;right:0;background:var(--card);border-radius:0 0 24px 24px;padding:10px 14px;display:flex;justify-content:space-around;align-items:center;border-top:1px solid var(--border);}
.scard-fi{display:flex;align-items:center;gap:3px;font-size:.71rem;color:var(--sub);}

.sw-btns{display:flex;align-items:center;gap:14px;margin-top:18px;}
.sw-btn{border-radius:50%;display:flex;align-items:center;justify-content:center;border:none;cursor:pointer;transition:all .2s;box-shadow:var(--sh-sm);}
.sw-btn:hover{transform:scale(1.1);}
.sw-pass{width:54px;height:54px;background:var(--card);color:#888;}
.sw-pass:hover{color:#E53E3E;box-shadow:0 0 0 3px rgba(229,62,62,.15);}
.sw-undo{width:38px;height:38px;background:var(--card);color:var(--gold);}
.sw-like{width:54px;height:54px;background:var(--rose);color:#fff;}
.sw-like:hover{background:#d03a30;}
.sw-star{width:42px;height:42px;background:var(--card);color:var(--gold);}
.sw-star:hover{color:#e09820;}
.sw-boost{width:38px;height:38px;background:linear-gradient(135deg,#7C3AED,#A855F7);color:#fff;}

.empty-cards{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;gap:12px;text-align:center;padding:40px;color:var(--sub);}

/* PROFILE SHEET */
.ps-overlay{display:none;position:fixed;inset:0;z-index:500;background:rgba(0,0,0,.6);align-items:flex-end;backdrop-filter:blur(4px);}
.ps-overlay.on{display:flex;}
.ps-inner{background:var(--card);border-radius:28px 28px 0 0;width:100%;max-height:92vh;overflow-y:auto;animation:shUp .35s cubic-bezier(.34,1.2,.64,1);}
@keyframes shUp{from{transform:translateY(100%)}to{transform:none}}
.ps-hero{position:relative;height:280px;border-radius:28px 28px 0 0;overflow:hidden;}
.ps-hero-ov{position:absolute;inset:0;background:linear-gradient(to top,rgba(0,0,0,.7) 0%,transparent 60%);}
.ps-close{position:absolute;top:14px;right:14px;width:34px;height:34px;border-radius:50%;background:rgba(0,0,0,.42);backdrop-filter:blur(4px);border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#fff;}
.ps-bd{padding:22px 22px 30px;}
.ps-name{font-family:var(--serif);font-size:1.9rem;}
.ps-meta{font-size:.87rem;color:var(--sub);margin-top:4px;}
.ps-mbar{display:flex;align-items:center;gap:10px;margin:18px 0;padding:14px;background:var(--light);border-radius:14px;}
.ps-mpct{font-family:var(--serif);font-size:1.5rem;color:var(--rose);}
.ps-ml{font-size:.81rem;color:var(--sub);line-height:1.4;}
.ps-tags{display:flex;flex-wrap:wrap;gap:7px;margin:14px 0;}
.ps-tag{background:var(--light);padding:6px 13px;border-radius:100px;font-size:.81rem;font-weight:500;}
.ps-lbl{font-size:.73rem;font-weight:700;letter-spacing:.06em;text-transform:uppercase;color:var(--sub);margin-bottom:7px;}
.ps-bio{font-size:.88rem;line-height:1.7;}
.ps-acts{display:flex;gap:10px;margin-top:22px;}
.ps-acts .btn{flex:1;padding:13px;}
.ps-photos{display:grid;grid-template-columns:repeat(3,1fr);gap:4px;margin-top:10px;}
.ps-photo{aspect-ratio:1;border-radius:7px;}

/* ── COMMUNITIES ── */
#t-comm{padding:0;}
.comm-lay{display:flex;flex:1;overflow:hidden;}
.comm-sb{width:230px;border-right:1px solid var(--border);overflow-y:auto;flex-shrink:0;padding:14px 0;}
.comm-sb-s{padding:7px 14px 3px;font-size:.71rem;font-weight:700;letter-spacing:.08em;text-transform:uppercase;color:var(--sub);}
.comm-sb-i{display:flex;align-items:center;gap:9px;padding:9px 14px;cursor:pointer;transition:background .15s;font-size:.87rem;font-weight:500;color:var(--text);}
.comm-sb-i:hover{background:var(--light);}
.comm-sb-i.on{background:rgba(232,69,58,.08);color:var(--rose);}
.comm-sb-ico{width:30px;height:30px;border-radius:9px;display:flex;align-items:center;justify-content:center;font-size:1rem;flex-shrink:0;}
.comm-sb-n{margin-left:auto;font-size:.71rem;background:var(--light);padding:2px 7px;border-radius:100px;color:var(--sub);}
.comm-main{flex:1;overflow-y:auto;padding:22px;}
.comm-hd{display:flex;align-items:flex-start;justify-content:space-between;gap:14px;margin-bottom:18px;}
.comm-srch{display:flex;align-items:center;gap:9px;background:var(--card);border:1.5px solid var(--border);border-radius:11px;padding:9px 14px;margin-bottom:18px;}
.comm-srch input{flex:1;border:none;background:none;font-size:.9rem;color:var(--text);outline:none;}
.comm-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(195px,1fr));gap:14px;}
.ccard{background:var(--card);border:1px solid var(--border);border-radius:var(--r);overflow:hidden;cursor:pointer;transition:all .2s;}
.ccard:hover{transform:translateY(-3px);box-shadow:var(--sh);}
.ccover{height:76px;display:flex;align-items:center;justify-content:center;font-size:2.1rem;}
.ccard-bd{padding:12px;}
.ccard-bd h4{font-weight:600;font-size:.88rem;margin-bottom:2px;}
.ccard-bd p{font-size:.76rem;color:var(--sub);}
.ccard-ft{padding:0 12px 12px;display:flex;align-items:center;justify-content:space-between;}
.cmems{display:flex;align-items:center;gap:3px;font-size:.74rem;color:var(--sub);}
.jbtn{padding:5px 14px;border-radius:100px;border:none;cursor:pointer;font-size:.77rem;font-weight:600;transition:all .2s;}
.jbtn.j{background:rgba(232,69,58,.1);color:var(--rose);}
.jbtn.j:hover{background:var(--rose);color:#fff;}
.jbtn.jd{background:var(--light);color:var(--sub);}
.comm-det{flex:1;display:flex;flex-direction:column;overflow:hidden;}
.comm-det-cov{height:150px;position:relative;display:flex;align-items:flex-end;padding:18px;flex-shrink:0;}
.comm-det-ov{position:absolute;inset:0;background:linear-gradient(to top,rgba(0,0,0,.72),transparent);}
.comm-det-info{position:relative;z-index:1;}
.comm-det-info h2{font-family:var(--serif);font-size:1.5rem;color:#fff;}
.comm-det-info p{font-size:.84rem;color:rgba(255,255,255,.78);}
.comm-det-tabs{display:flex;border-bottom:1px solid var(--border);padding:0 18px;background:var(--card);flex-shrink:0;}
.cdt{padding:13px 14px;font-size:.86rem;font-weight:500;cursor:pointer;border-bottom:2px solid transparent;color:var(--sub);transition:all .2s;white-space:nowrap;}
.cdt.on{color:var(--rose);border-bottom-color:var(--rose);}
.comm-det-bd{flex:1;overflow-y:auto;padding:18px;}
.ev-card{background:var(--card);border:1px solid var(--border);border-radius:var(--r);padding:16px;margin-bottom:10px;}
.ev-hd{display:flex;gap:12px;margin-bottom:10px;}
.ev-date{background:var(--rose);color:#fff;border-radius:9px;padding:7px 11px;text-align:center;flex-shrink:0;}
.ev-date span{display:block;font-size:.63rem;font-weight:700;letter-spacing:.05em;text-transform:uppercase;}
.ev-date strong{display:block;font-family:var(--serif);font-size:1.4rem;line-height:1;}
.ev-info h4{font-weight:600;font-size:.93rem;margin-bottom:3px;}
.ev-info p{font-size:.81rem;color:var(--sub);}
.ev-rsvp{display:flex;gap:7px;align-items:center;}
.r-go{background:var(--rose);color:#fff;border:none;padding:6px 16px;border-radius:100px;font-size:.79rem;font-weight:600;cursor:pointer;transition:background .2s;}
.r-go:hover{background:#d03a30;}
.r-maybe{background:var(--light);color:var(--text);border:none;padding:6px 16px;border-radius:100px;font-size:.79rem;font-weight:600;cursor:pointer;}
.avstack{display:flex;margin-left:auto;}
.avs{width:22px;height:22px;border-radius:50%;border:2px solid var(--card);margin-left:-5px;font-size:.62rem;display:flex;align-items:center;justify-content:center;font-weight:600;}
.going-n{font-size:.74rem;color:var(--sub);margin-left:6px;}

/* ── GROUPS ── */
#t-grps{padding:0;}
.grp-lay{display:flex;flex:1;overflow:hidden;}
.grp-list{width:270px;border-right:1px solid var(--border);display:flex;flex-direction:column;overflow:hidden;flex-shrink:0;}
.grp-list-hd{padding:14px 18px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;flex-shrink:0;}
.grp-list-hd h3{font-family:var(--serif);font-size:1.12rem;}
.grp-list-bd{flex:1;overflow-y:auto;}
.gi{display:flex;align-items:center;gap:10px;padding:11px 18px;cursor:pointer;transition:background .15s;border-bottom:1px solid var(--border);}
.gi:hover{background:var(--light);}
.gi.on{background:rgba(232,69,58,.06);}
.gi-ico{width:42px;height:42px;border-radius:13px;display:flex;align-items:center;justify-content:center;font-size:1.25rem;flex-shrink:0;}
.gi-meta{flex:1;min-width:0;}
.gi-meta h4{font-weight:600;font-size:.87rem;}
.gi-meta p{font-size:.76rem;color:var(--sub);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:2px;}
.udot{min-width:17px;height:17px;border-radius:100px;background:var(--rose);color:#fff;font-size:.67rem;font-weight:700;display:flex;align-items:center;justify-content:center;padding:0 4px;}
.grp-pane{flex:1;display:flex;flex-direction:column;overflow:hidden;}
.grp-hd{padding:11px 14px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:10px;background:var(--card);flex-shrink:0;}
.grp-hd-info h4{font-weight:600;font-size:.93rem;}
.grp-hd-info p{font-size:.77rem;color:var(--sub);}
.grp-hd-acts{margin-left:auto;display:flex;gap:3px;}
.ev-pin{background:linear-gradient(135deg,rgba(232,69,58,.06),rgba(244,169,66,.04));border-bottom:1px solid rgba(232,69,58,.15);padding:10px 14px;flex-shrink:0;}
.ev-pin h6{font-size:.76rem;font-weight:700;color:var(--rose);letter-spacing:.04em;text-transform:uppercase;margin-bottom:7px;}
.pin-ev{background:var(--card);border:1px solid var(--border);border-radius:11px;padding:10px;display:flex;align-items:center;gap:10px;}
.pin-date{background:var(--rose);color:#fff;border-radius:7px;padding:5px 9px;text-align:center;flex-shrink:0;}
.pin-date span{display:block;font-size:.58rem;font-weight:700;text-transform:uppercase;}
.pin-date strong{display:block;font-family:var(--serif);font-size:1.25rem;line-height:1;}
.pin-info h5{font-weight:600;font-size:.84rem;}
.pin-info p{font-size:.74rem;color:var(--sub);margin-top:2px;}
.pin-rsvp{display:flex;gap:5px;margin-top:6px;}
.grp-msgs{flex:1;overflow-y:auto;padding:14px;display:flex;flex-direction:column;gap:9px;}

/* ── MESSAGES ── */
#t-msgs{padding:0;}
.msg-lay{display:flex;flex:1;overflow:hidden;}
.msg-list{width:290px;border-right:1px solid var(--border);display:flex;flex-direction:column;flex-shrink:0;overflow:hidden;}
.msg-list-hd{padding:14px 18px;border-bottom:1px solid var(--border);flex-shrink:0;}
.msg-list-hd h3{font-family:var(--serif);font-size:1.12rem;margin-bottom:10px;}
.msg-srch{display:flex;align-items:center;gap:7px;background:var(--light);border-radius:10px;padding:8px 11px;}
.msg-srch input{flex:1;border:none;background:none;font-size:.84rem;color:var(--text);outline:none;}
.match-ban{background:linear-gradient(135deg,rgba(232,69,58,.07),rgba(244,169,66,.06));border-bottom:1px solid var(--border);padding:10px 18px;flex-shrink:0;}
.match-ban-lbl{font-size:.71rem;font-weight:700;letter-spacing:.06em;text-transform:uppercase;color:var(--rose);margin-bottom:9px;}
.match-pills-row{display:flex;gap:9px;overflow-x:auto;padding-bottom:3px;scrollbar-width:none;}
.match-pills-row::-webkit-scrollbar{display:none;}
.mpi{display:flex;flex-direction:column;align-items:center;gap:3px;flex-shrink:0;cursor:pointer;}
.mpi-av{width:48px;height:48px;border-radius:50%;position:relative;border:2.5px solid var(--rose);}
.mpi-av-in{width:100%;height:100%;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:.88rem;}
.mpi-name{font-size:.69rem;color:var(--text);font-weight:500;text-align:center;max-width:50px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}
.new-dot{position:absolute;top:-2px;right:-2px;width:13px;height:13px;border-radius:50%;background:var(--rose);border:2px solid var(--card);}
.msg-list-bd{flex:1;overflow-y:auto;}
.ci{display:flex;align-items:center;gap:10px;padding:11px 18px;cursor:pointer;transition:background .15s;border-bottom:1px solid var(--border);}
.ci:hover{background:var(--light);}
.ci.on{background:rgba(232,69,58,.06);}
.ci-av{position:relative;flex-shrink:0;}
.or{position:absolute;bottom:1px;right:1px;width:10px;height:10px;background:var(--green);border-radius:50%;border:2.5px solid var(--card);}
.ci-bd{flex:1;min-width:0;}
.ci-row{display:flex;justify-content:space-between;align-items:center;}
.ci-name{font-weight:600;font-size:.88rem;}
.ci-time{font-size:.71rem;color:var(--sub);}
.ci-prev{font-size:.79rem;color:var(--sub);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:2px;}
.chat-pane{flex:1;display:flex;flex-direction:column;overflow:hidden;}
.chat-hd{padding:10px 14px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:10px;background:var(--card);flex-shrink:0;}
.chat-hd-info h4{font-weight:600;font-size:.93rem;}
.chat-hd-info p{font-size:.77rem;color:var(--sub);}
.chat-hd-acts{margin-left:auto;display:flex;gap:3px;}
.chat-msgs{flex:1;overflow-y:auto;padding:14px;display:flex;flex-direction:column;gap:9px;}
.mg{display:flex;flex-direction:column;gap:3px;}
.mg.me{align-items:flex-end;}
.bub{padding:9px 13px;border-radius:17px;font-size:.87rem;line-height:1.55;max-width:72%;}
.bub.them{background:var(--card);border:1px solid var(--border);border-radius:4px 17px 17px 17px;}
.bub.me{background:var(--rose);color:#fff;border-radius:17px 4px 17px 17px;}
.mmeta{font-size:.67rem;color:var(--sub);padding:0 3px;}
.typing-bub{display:flex;gap:3px;padding:9px 13px;background:var(--card);border:1px solid var(--border);border-radius:4px 17px 17px 17px;width:fit-content;}
.typing-bub span{width:5px;height:5px;border-radius:50%;background:var(--sub);animation:td 1.4s infinite;}
.typing-bub span:nth-child(2){animation-delay:.2s;}
.typing-bub span:nth-child(3){animation-delay:.4s;}
@keyframes td{0%,60%,100%{opacity:.3;transform:scale(1)}30%{opacity:1;transform:scale(1.2)}}
.chat-inp-area{padding:9px 14px;border-top:1px solid var(--border);background:var(--card);flex-shrink:0;}
.chat-inp-row{display:flex;align-items:flex-end;gap:9px;}
.chat-inp-wrap{flex:1;background:var(--light);border-radius:20px;padding:7px 13px;display:flex;align-items:flex-end;gap:7px;}
.chat-ta{flex:1;border:none;background:none;font-size:.89rem;color:var(--text);outline:none;resize:none;max-height:110px;line-height:1.5;font-family:var(--sans);}
.chat-ta::placeholder{color:var(--sub);}
.chat-ico-btn{width:30px;height:30px;border-radius:50%;border:none;background:none;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--sub);}
.send-btn{width:40px;height:40px;border-radius:50%;background:var(--rose);border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#fff;transition:all .2s;flex-shrink:0;}
.send-btn:hover{background:#d03a30;}
.chat-extras{display:flex;gap:4px;margin-bottom:7px;}
.cex-btn{display:flex;align-items:center;gap:4px;padding:4px 11px;border-radius:100px;border:1.5px solid var(--border);background:var(--card);font-size:.74rem;font-weight:500;cursor:pointer;color:var(--sub);}
.cex-btn:hover{border-color:var(--rose);color:var(--rose);}
.no-chat{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;color:var(--sub);text-align:center;padding:40px;}
.no-chat h3{font-family:var(--serif);font-size:1.35rem;color:var(--text);}

/* ── BOARD ── */
#t-board{padding:0;}
.board-lay{display:flex;flex:1;overflow:hidden;}
.board-main{flex:1;overflow-y:auto;padding:18px;max-width:660px;margin:0 auto;}
.compose-box{background:var(--card);border:1px solid var(--border);border-radius:var(--r);padding:16px;margin-bottom:18px;}
.compose-hd{display:flex;align-items:flex-start;gap:10px;}
.compose-type-row{display:flex;gap:5px;flex-wrap:wrap;margin-top:8px;}
.tychip{padding:4px 11px;border-radius:100px;border:1.5px solid var(--border);font-size:.74rem;font-weight:500;cursor:pointer;transition:all .2s;background:var(--card);}
.tychip.on{border-color:var(--rose);color:var(--rose);background:rgba(232,69,58,.05);}
.compose-ta{width:100%;border:none;background:none;font-size:.89rem;color:var(--text);resize:none;outline:none;line-height:1.62;min-height:65px;font-family:var(--sans);}
.compose-ta::placeholder{color:var(--sub);}
.compose-ft{display:flex;align-items:center;justify-content:space-between;margin-top:10px;padding-top:10px;border-top:1px solid var(--border);}
.compose-tools{display:flex;gap:3px;}
.post-feed{display:flex;flex-direction:column;gap:10px;}
.pcard{background:var(--card);border:1px solid var(--border);border-radius:var(--r);overflow:hidden;}
.phd{display:flex;align-items:flex-start;gap:9px;padding:14px 14px 0;}
.phd-info{flex:1;}
.p-aut-row{display:flex;align-items:center;gap:7px;flex-wrap:wrap;}
.p-aut{font-weight:600;font-size:.88rem;}
.p-badge{padding:2px 9px;border-radius:100px;font-size:.7rem;font-weight:700;}
.p-sub{font-size:.76rem;color:var(--sub);}
.p-body{padding:9px 14px 0;font-size:.87rem;line-height:1.65;}
.p-acts{display:flex;align-items:center;padding:7px 9px 11px;border-top:1px solid var(--border);margin-top:10px;}
.p-act{display:flex;align-items:center;gap:4px;padding:5px 9px;border-radius:100px;border:none;background:none;cursor:pointer;font-size:.79rem;color:var(--sub);transition:all .2s;font-family:var(--sans);}
.p-act:hover{background:var(--light);color:var(--text);}
.p-act.liked{color:var(--rose);}
.board-sb{width:230px;border-left:1px solid var(--border);overflow-y:auto;padding:18px;flex-shrink:0;}
.bsb-card{background:var(--card);border:1px solid var(--border);border-radius:var(--r);padding:16px;margin-bottom:14px;}
.bsb-card h4{font-weight:600;font-size:.88rem;margin-bottom:10px;}
.bsb-type{display:flex;align-items:center;gap:7px;padding:6px 0;border-bottom:1px solid var(--border);cursor:pointer;font-size:.84rem;}
.bsb-type:last-child{border-bottom:none;}
.bsb-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0;}

/* ── PROFILE ── */
#t-prof{padding:0;}
.prof-lay{display:flex;flex:1;overflow:hidden;}
.prof-main{flex:1;overflow-y:auto;}
.prof-hero{position:relative;height:200px;}
.prof-hero-bg{position:absolute;inset:0;background:linear-gradient(135deg,var(--rose),#ff8c7a);}
.prof-hero-ov{position:absolute;inset:0;background:rgba(0,0,0,.18);}
.prof-av-wrap{position:absolute;bottom:-38px;left:24px;}
.prof-av{width:78px;height:78px;border-radius:50%;border:4px solid var(--card);background:linear-gradient(135deg,#e8cfc8,#c9ada7);display:flex;align-items:center;justify-content:center;font-family:var(--serif);font-size:1.9rem;color:#8a6a62;}
.prof-edit-btn{position:absolute;top:14px;right:14px;}
.prof-bd{padding:50px 24px 24px;}
.prof-name-row{display:flex;align-items:flex-start;justify-content:space-between;}
.prof-name{font-family:var(--serif);font-size:1.75rem;}
.prof-meta{font-size:.86rem;color:var(--sub);margin-top:4px;}
.prof-stats{display:flex;gap:20px;margin-top:18px;padding:18px;background:var(--card);border:1px solid var(--border);border-radius:var(--r);}
.pstat{text-align:center;flex:1;}
.pstat-n{font-family:var(--serif);font-size:1.55rem;}
.pstat-l{font-size:.74rem;color:var(--sub);margin-top:2px;}
.prof-sec{margin-top:18px;}
.prof-sec-hd{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;}
.prof-sec-t{font-size:.8rem;font-weight:700;letter-spacing:.05em;text-transform:uppercase;color:var(--sub);}
.prof-photos{display:grid;grid-template-columns:repeat(3,1fr);gap:4px;}
.pp{aspect-ratio:1;border-radius:11px;overflow:hidden;cursor:pointer;}
.prof-tags{display:flex;flex-wrap:wrap;gap:7px;}
.ptag{background:var(--card);border:1px solid var(--border);padding:6px 13px;border-radius:100px;font-size:.81rem;font-weight:500;}
.prof-sb{width:270px;border-left:1px solid var(--border);overflow-y:auto;padding:22px;flex-shrink:0;}
.psb-card{background:var(--card);border:1px solid var(--border);border-radius:var(--r);padding:16px;margin-bottom:12px;}
.psb-card h4{font-weight:600;font-size:.88rem;margin-bottom:10px;}
.pref-row{display:flex;align-items:center;justify-content:space-between;padding:7px 0;border-bottom:1px solid var(--border);font-size:.84rem;}
.pref-row:last-child{border-bottom:none;}
.pl{color:var(--sub);}
.pv{font-weight:500;}
.saf-item{display:flex;align-items:center;gap:9px;padding:7px 0;border-bottom:1px solid var(--border);font-size:.84rem;}
.saf-item:last-child{border-bottom:none;}
.saf-dot{width:7px;height:7px;border-radius:50%;background:var(--green);flex-shrink:0;}
.range-wrap input[type=range]{width:100%;accent-color:var(--rose);margin-top:8px;}
.range-lbl{display:flex;justify-content:space-between;font-size:.73rem;color:var(--sub);margin-top:3px;}

/* ── NOTIFS ── */
.nitem{display:flex;align-items:flex-start;gap:10px;padding:13px 18px;border-bottom:1px solid var(--border);cursor:pointer;transition:background .15s;}
.nitem:hover{background:var(--light);}
.nitem.unread{background:rgba(232,69,58,.03);}
.nico{width:38px;height:38px;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0;font-size:1rem;}
.nbody{flex:1;}
.nbody p{font-size:.86rem;line-height:1.5;}
.nbody span{font-weight:600;}
.ntime{font-size:.74rem;color:var(--sub);margin-top:2px;}
.nudot{width:7px;height:7px;border-radius:50%;background:var(--rose);flex-shrink:0;margin-top:5px;}

/* MISC */
.av{border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:600;flex-shrink:0;}

/* BOTTOM NAV */
.bnav{display:none;height:58px;background:var(--card);border-top:1px solid var(--border);align-items:center;justify-content:space-around;flex-shrink:0;z-index:20;padding-bottom:env(safe-area-inset-bottom);}
.bni{display:flex;flex-direction:column;align-items:center;gap:3px;cursor:pointer;border:none;background:none;color:var(--sub);padding:5px 12px;position:relative;transition:color .2s;}
.bni span{font-size:.6rem;font-weight:500;}
.bni.on{color:var(--rose);}
.bni-dot{position:absolute;top:3px;right:7px;width:7px;height:7px;background:var(--rose);border-radius:50%;border:2px solid var(--card);}
.back-btn{display:none;width:34px;height:34px;border-radius:50%;border:none;background:var(--light);cursor:pointer;align-items:center;justify-content:center;color:var(--text);}
.back-btn.vis{display:flex;}

/* TOAST */
.toast{position:fixed;bottom:74px;left:50%;transform:translateX(-50%) translateY(18px);background:var(--text);color:var(--bg);padding:9px 18px;border-radius:100px;font-size:.84rem;font-weight:500;z-index:9999;opacity:0;transition:all .28s;pointer-events:none;white-space:nowrap;}
.toast.on{opacity:1;transform:translateX(-50%) translateY(0);}

/* RESPONSIVE */
@media(max-width:900px){.board-sb{display:none;}.prof-sb{display:none;}.comm-sb{display:none;}}
@media(max-width:768px){
  .sb{display:none;}.bnav{display:flex;}
  #pg-app{height:calc(100vh - 58px);}
  .msg-list,.grp-list{position:absolute;inset:0;z-index:5;width:100%;background:var(--bg);}
  .msg-list.hidden,.grp-list.hidden{display:none;}
  .chat-pane,.grp-pane{position:absolute;inset:0;z-index:6;background:var(--bg);}
  .chat-pane.hidden,.grp-pane.hidden{display:none;}
  .msg-lay,.grp-lay{position:relative;}
  .card-stage{width:min(320px,88vw);height:min(480px,72vw);}
}
@media(max-width:480px){.comm-grid{grid-template-columns:repeat(2,1fr);}.steps-g{grid-template-columns:1fr;}}
::-webkit-scrollbar{width:4px;}::-webkit-scrollbar-track{background:transparent;}::-webkit-scrollbar-thumb{background:var(--border);border-radius:4px;}
</style>
</head>
<body>

<!-- ════════════════ LANDING ════════════════ -->
<div id="pg-land" class="pg on">
  <nav class="land-nav">
    <div class="logo">Camp<b>Us</b></div>
    <div class="land-nav-r">
      <button class="btn btn-outline btn-sm" onclick="openModal('login')">Sign in</button>
      <button class="btn btn-primary btn-sm" onclick="openModal('signup')">Get started</button>
    </div>
  </nav>

  <div class="hero">
    <div class="blob blob1"></div><div class="blob blob2"></div>
    <div class="hero-pill"><span class="dot"></span> .edu verified only &nbsp;·&nbsp; 50K+ students</div>
    <h1>Meet someone who<br>gets your <em>world</em></h1>
    <p>Campus dating done right — verified .edu accounts, shared communities, and real connections with people who actually live your student life.</p>
    <div class="hero-cta">
      <button class="btn btn-primary" style="padding:14px 28px;font-size:1rem;" onclick="openModal('signup')">Create free account</button>
      <button class="btn btn-outline" style="padding:14px 24px;font-size:1rem;" onclick="openModal('login')">Sign in</button>
    </div>
    <div class="card-trio">
      <div class="mini-card mc1" style="transform:rotate(-5deg)">
        <div class="mini-card-img" style="background:linear-gradient(160deg,#e4cec9,#c9ada7)"></div>
        <div class="mini-card-body"><h5>Priya, 21</h5><p>CS · MIT</p><div class="mini-card-match">94% match</div></div>
      </div>
      <div class="mini-card mc2">
        <div class="mini-card-img" style="background:linear-gradient(160deg,#c9d5e0,#a8bfcf)"></div>
        <div class="mini-card-body"><h5>Jordan, 22</h5><p>Econ · Harvard</p><div class="mini-card-match">88% match</div></div>
      </div>
      <div class="mini-card mc3" style="transform:rotate(5deg)">
        <div class="mini-card-img" style="background:linear-gradient(160deg,#c9d4c5,#a8c0a8)"></div>
        <div class="mini-card-body"><h5>Alex, 20</h5><p>Design · NYU</p><div class="mini-card-match">91% match</div></div>
      </div>
    </div>
  </div>

  <div class="trust-bar">
    <div class="trust-stat"><h3>50K+</h3><p>Verified students</p></div>
    <div class="trust-stat"><h3>200+</h3><p>Campuses</p></div>
    <div class="trust-stat"><h3>12K+</h3><p>Matches made</p></div>
    <div class="trust-stat"><h3>4.8</h3><p>App store rating</p></div>
  </div>

  <div class="land-sec">
    <p class="sec-badge">How it works</p>
    <h2 class="sec-title">Three steps to your match</h2>
    <p class="sec-sub">Campus connections made easy, safe, and genuinely fun.</p>
    <div class="steps-g">
      <div class="step-c">
        <div class="step-ico"><svg width="20" height="20" fill="none" stroke-width="2" viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></div>
        <div class="step-n">01</div>
        <h3>Verify with .edu</h3>
        <p>Sign up with your university email. OTP verified, real students only — no outsiders, no catfishing.</p>
      </div>
      <div class="step-c">
        <div class="step-ico"><svg width="20" height="20" fill="none" stroke-width="2" viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg></div>
        <div class="step-n">02</div>
        <h3>Build your profile</h3>
        <p>Add photos, your major, interests, and what you're looking for. Better info = better matches.</p>
      </div>
      <div class="step-c">
        <div class="step-ico"><svg width="20" height="20" fill="none" stroke-width="2" viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg></div>
        <div class="step-n">03</div>
        <h3>Match and connect</h3>
        <p>Swipe, join communities, find study partners. Real meetups, real connection, real campus life.</p>
      </div>
    </div>
  </div>

  <div style="background:var(--card);border-top:1px solid var(--border);border-bottom:1px solid var(--border);padding:60px 5vw;">
    <div class="land-sec" style="padding:0;max-width:1100px;">
      <p class="sec-badge">Features</p>
      <h2 class="sec-title">More than just swiping</h2>
      <div class="feat-g">
        <div class="feat"><div class="step-ico"><svg width="20" height="20" fill="none" stroke-width="2" viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg></div><h3>Smart Discover</h3><p>Tinder-style swipe with compatibility scores, shared interests, and .edu verification on every profile.</p></div>
        <div class="feat"><div class="step-ico"><svg width="20" height="20" fill="none" stroke-width="2" viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg></div><h3>Communities</h3><p>Join interest groups — Chess, Pickleball, Film, DSA, Gaming. Meet people through what you genuinely love.</p></div>
        <div class="feat"><div class="step-ico"><svg width="20" height="20" fill="none" stroke-width="2" viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg></div><h3>Group Chats</h3><p>Community group chats with pinned events, RSVP tracking, and shared planning — like WhatsApp for campus.</p></div>
        <div class="feat"><div class="step-ico"><svg width="20" height="20" fill="none" stroke-width="2" viewBox="0 0 24 24"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg></div><h3>Campus Board</h3><p>Post hangout requests, find study partners, share notes, or organize movie nights on a public campus feed.</p></div>
        <div class="feat"><div class="step-ico"><svg width="20" height="20" fill="none" stroke-width="2" viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg></div><h3>.edu Verification</h3><p>Every account verified with a university email and OTP. Your campus stays your safe space.</p></div>
        <div class="feat"><div class="step-ico"><svg width="20" height="20" fill="none" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14M4.93 4.93a10 10 0 0 0 0 14.14"/></svg></div><h3>Match Insights</h3><p>Compatibility %, shared interests, mutual communities — see why you'd click before you swipe.</p></div>
      </div>
    </div>
  </div>

  <div class="cta-bar">
    <h2>Ready to find your person?</h2>
    <p>Join 50,000+ students already connecting on CampUs.</p>
    <button class="btn btn-white" onclick="openModal('signup')">Get started — it's free</button>
  </div>

  <footer class="land-foot">
    <div class="logo" style="font-size:1.35rem;">Camp<b>Us</b></div>
    <p>2024 CampUs. All rights reserved.</p>
    <div class="foot-links"><a href="#">Privacy</a><a href="#">Terms</a><a href="#">Safety</a><a href="#">Help</a></div>
  </footer>
</div>

<!-- ════════════════ AUTH MODAL ════════════════ -->
<div class="overlay" id="auth-ov" onclick="ovClick(event,'auth-ov')">
  <div class="modal" style="position:relative;">
    <button class="modal-x" onclick="closeOv('auth-ov')"><svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button>
    <div class="modal-hd">
      <span class="logo">Camp<b>Us</b></span>
      <h2 id="auth-title">Welcome back</h2>
      <p id="auth-sub">Sign in to your campus account</p>
    </div>
    <div class="modal-bd">
      <div class="fg" id="name-fg" style="display:none;"><label>Full name</label><input type="text" id="inp-name" placeholder="Your name"></div>
      <div class="fg"><label>University email</label><input type="email" id="inp-email" placeholder="you@university.edu" oninput="clearAErr()"><div class="err" id="email-err">Please use your .edu university email</div></div>
      <div class="fg"><label>Password</label><input type="password" id="inp-pass" placeholder="••••••••"></div>
      <button class="btn btn-primary" id="auth-submit" onclick="submitAuth()">Sign in</button>
      <div class="modal-sw" id="auth-sw">Don't have an account? <a onclick="openModal('signup')">Sign up</a></div>
    </div>
  </div>
</div>

<!-- SETUP MODAL -->
<div class="overlay" id="setup-ov">
  <div class="modal" style="position:relative;max-width:460px;">
    <div class="modal-hd" style="padding-bottom:0;">
      <h2 style="font-size:1.35rem;">Set up your profile</h2>
      <p>A complete profile gets 3x more matches</p>
    </div>
    <div class="setup-bar" style="margin-top:16px;">
      <div class="setup-step done" id="ss1"></div>
      <div class="setup-step" id="ss2"></div>
      <div class="setup-step" id="ss3"></div>
    </div>
    <div class="modal-bd" style="padding-top:0;">
      <div class="sp on" id="sp1">
        <p style="font-weight:600;margin-bottom:10px;">Add your photos</p>
        <div class="ph-grid">
          <div class="ph-slot" onclick="addPhoto(0)" id="ps0"><svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></div>
          <div class="ph-slot" onclick="addPhoto(1)" id="ps1"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></div>
          <div class="ph-slot" onclick="addPhoto(2)" id="ps2"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></div>
          <div class="ph-slot" onclick="addPhoto(3)" id="ps3"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></div>
          <div class="ph-slot" onclick="addPhoto(4)" id="ps4"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></div>
        </div>
        <p style="font-size:.77rem;color:var(--sub);margin-top:8px;">Add at least 2 photos. Your main photo drives 40% more matches.</p>
        <button class="btn btn-primary" onclick="setupNext(2)" style="width:100%;padding:12px;border-radius:11px;margin-top:14px;">Continue</button>
      </div>
      <div class="sp" id="sp2">
        <div class="fg"><label>Year</label><select id="su-yr"><option>Freshman</option><option>Sophomore</option><option>Junior</option><option selected>Senior</option><option>Graduate</option></select></div>
        <div class="fg"><label>Major</label><input type="text" id="su-major" placeholder="e.g. Computer Science"></div>
        <div class="fg"><label>About you (optional)</label><textarea id="su-bio" style="min-height:80px;resize:none;" placeholder="Short bio..."></textarea></div>
        <button class="btn btn-primary" onclick="setupNext(3)" style="width:100%;padding:12px;border-radius:11px;">Continue</button>
      </div>
      <div class="sp" id="sp3">
        <p style="font-weight:600;margin-bottom:4px;">Pick your interests</p>
        <p style="font-size:.82rem;color:var(--sub);margin-bottom:10px;">Choose at least 3 to get better matches</p>
        <div class="int-grid" id="int-grid"></div>
        <button class="btn btn-primary" onclick="finishSetup()" style="width:100%;padding:12px;border-radius:11px;margin-top:14px;">Start matching</button>
      </div>
    </div>
  </div>
</div>

<!-- PROFILE SHEET -->
<div class="ps-overlay" id="ps-ov" onclick="psBg(event)">
  <div class="ps-inner" id="ps-inner"></div>
</div>

<!-- ════════════════ APP ════════════════ -->
<div id="pg-app" class="pg">
  <div class="app-shell">

    <!-- SIDEBAR -->
    <nav class="sb">
      <div class="sb-logo">C<b>U</b></div>
      <button class="sb-btn on" data-t="disc" onclick="goTab('disc')"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg></button>
      <button class="sb-btn" data-t="comm" onclick="goTab('comm')"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg></button>
      <button class="sb-btn" data-t="grps" onclick="goTab('grps')"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg><div class="sb-dot"></div></button>
      <button class="sb-btn" data-t="msgs" onclick="goTab('msgs')"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></button>
      <button class="sb-btn" data-t="board" onclick="goTab('board')"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg></button>
      <div class="sb-sep"></div>
      <button class="sb-btn" data-t="notif" onclick="goTab('notif')"><svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg><div class="sb-dot"></div></button>
      <div class="sb-bot">
        <button class="bico" onclick="toggleDark()" id="theme-btn"><svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" id="theme-ico"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg></button>
        <div class="sb-av" onclick="goTab('prof')" data-t="prof">M</div>
      </div>
    </nav>

    <!-- MAIN -->
    <div class="main-wrap">
      <div class="topbar">
        <div class="topbar-l">
          <button class="back-btn" id="back-btn" onclick="doBack()"><svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><polyline points="15 18 9 12 15 6"/></svg></button>
          <div class="topbar-title" id="topbar-title">Discover</div>
        </div>
        <div class="topbar-r">
          <button class="bico" onclick="toggleDark()" id="theme-btn2"><svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" id="theme-ico2"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg></button>
        </div>
      </div>

      <div class="main-body">

        <!-- ── DISCOVER ── -->
        <div id="t-disc" class="tab on">
          <div class="disc-inner" style="padding:14px 14px 0;width:100%;max-width:390px;margin:0 auto;">
            <div class="filter-row">
              <button class="fchip on" onclick="fcToggle(this)"><svg width="12" height="12" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/></svg> Everyone</button>
              <button class="fchip" onclick="fcToggle(this)">My Campus</button>
              <button class="fchip" onclick="fcToggle(this)">New Today</button>
              <button class="fchip" onclick="fcToggle(this)"><svg width="12" height="12" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg> Liked you</button>
            </div>
            <div class="card-stage" id="card-stage"></div>
            <div class="sw-btns">
              <button class="sw-btn sw-pass" onclick="doSwipe('pass')" title="Pass"><svg width="22" height="22" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button>
              <button class="sw-btn sw-undo" onclick="doUndo()" title="Undo"><svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><polyline points="1 4 1 10 7 10"/><path d="M3.51 15a9 9 0 1 0 .49-3.5"/></svg></button>
              <button class="sw-btn sw-like" onclick="doSwipe('like')" title="Like"><svg width="22" height="22" fill="white" stroke="white" stroke-width="2" viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg></button>
              <button class="sw-btn sw-star" onclick="doSwipe('star')" title="Super Like"><svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></button>
              <button class="sw-btn sw-boost" onclick="toast('Profile boosted!')" title="Boost"><svg width="17" height="17" fill="none" stroke="white" stroke-width="2" viewBox="0 0 24 24"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg></button>
            </div>
          </div>
        </div>

        <!-- ── COMMUNITIES ── -->
        <div id="t-comm" class="tab">
          <div class="comm-lay" id="comm-lay">
            <div class="comm-sb" id="comm-sb-panel">
              <div class="comm-sb-s">Joined</div>
              <div class="comm-sb-i on" onclick="showCommDet({name:'Chess Society',icon:'&#9822;',bg:'#dce8f0',members:218,desc:'Weekly tournaments, puzzles, and analysis. All skill levels welcome.'})"><div class="comm-sb-ico" style="background:#dce8f0;">&#9822;</div> Chess Society <span class="comm-sb-n">218</span></div>
              <div class="comm-sb-i" onclick="showCommDet({name:'DSA Study Group',icon:'&#128187;',bg:'#ecdcf0',members:891,desc:'Collaborative prep for technical interviews and algorithm problems.'})"><div class="comm-sb-ico" style="background:#ecdcf0;">&#128187;</div> DSA Study Group <span class="comm-sb-n">891</span></div>
              <div class="comm-sb-s">Discover</div>
              <div class="comm-sb-i" onclick="showCommDet({name:'Pickleball Club',icon:'&#127955;',bg:'#fce8d4',members:340,desc:'Casual and competitive pickleball for all levels.'})"><div class="comm-sb-ico" style="background:#fce8d4;">&#127955;</div> Pickleball Club <span class="comm-sb-n">340</span></div>
              <div class="comm-sb-i" onclick="showCommDet({name:'Film Buffs',icon:'&#127916;',bg:'#d4ead4',members:512,desc:'Monthly screenings and lively post-film discussions.'})"><div class="comm-sb-ico" style="background:#d4ead4;">&#127916;</div> Film Buffs <span class="comm-sb-n">512</span></div>
              <div class="comm-sb-i" onclick="showCommDet({name:'Gaming Guild',icon:'&#127918;',bg:'#fce8f4',members:603,desc:'From speedrunning to co-op, find your gaming crew.'})"><div class="comm-sb-ico" style="background:#fce8f4;">&#127918;</div> Gaming Guild <span class="comm-sb-n">603</span></div>
              <div class="comm-sb-i" onclick="showCommDet({name:'City Explorers',icon:'&#128506;',bg:'#ffe8cc',members:278,desc:'Discover hidden gems and great food around the city together.'})"><div class="comm-sb-ico" style="background:#ffe8cc;">&#128506;</div> City Explorers <span class="comm-sb-n">278</span></div>
              <div class="comm-sb-i" onclick="showCommDet({name:'Book Club',icon:'&#128218;',bg:'#f4e8dc',members:195,desc:'Monthly picks across all genres. Meet the last Sunday of every month.'})"><div class="comm-sb-ico" style="background:#f4e8dc;">&#128218;</div> Book Club <span class="comm-sb-n">195</span></div>
              <div class="comm-sb-i" onclick="showCommDet({name:'Yoga &amp; Wellness',icon:'&#129544;',bg:'#dce8f0',members:411,desc:'Morning yoga, meditation, and wellness workshops every week.'})"><div class="comm-sb-ico" style="background:#dce8f0;">&#129544;</div> Yoga &amp; Wellness <span class="comm-sb-n">411</span></div>
            </div>
            <div class="comm-main" id="comm-main-panel">
              <div class="comm-hd">
                <div><h2 style="font-family:var(--serif);font-size:1.35rem;">Communities</h2><p style="color:var(--sub);font-size:.84rem;margin-top:2px;">Find your people through shared interests</p></div>
                <button class="btn btn-primary btn-sm" onclick="toast('Create community')"><svg width="13" height="13" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg> Create</button>
              </div>
              <div class="comm-srch"><svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg><input type="text" placeholder="Search communities..."></div>
              <div class="comm-grid" id="comm-grid"></div>
            </div>
            <div class="comm-det" id="comm-det-panel" style="display:none;"></div>
          </div>
        </div>

        <!-- ── GROUPS ── -->
        <div id="t-grps" class="tab">
          <div class="grp-lay" id="grp-lay">
            <div class="grp-list" id="grp-list-panel">
              <div class="grp-list-hd"><h3>Groups</h3><button class="bico" onclick="toast('Create group')"><svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></button></div>
              <div class="grp-list-bd" id="grp-list-bd"></div>
            </div>
            <div class="grp-pane" id="grp-pane">
              <div class="no-chat"><svg width="48" height="48" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg><h3>Select a group</h3><p style="font-size:.84rem;">Join communities to find your groups</p></div>
            </div>
          </div>
        </div>

        <!-- ── MESSAGES ── -->
        <div id="t-msgs" class="tab">
          <div class="msg-lay" id="msg-lay">
            <div class="msg-list" id="msg-list-panel">
              <div class="msg-list-hd"><h3>Messages</h3><div class="msg-srch"><svg width="13" height="13" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg><input type="text" placeholder="Search conversations..."></div></div>
              <div class="match-ban"><div class="match-ban-lbl">New matches</div><div class="match-pills-row" id="match-pills"></div></div>
              <div class="msg-list-bd" id="msg-list-bd"></div>
            </div>
            <div class="chat-pane" id="chat-pane">
              <div class="no-chat"><svg width="50" height="50" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg><h3>Start a conversation</h3><p style="font-size:.84rem;">Select a match to send a message</p></div>
            </div>
          </div>
        </div>

        <!-- ── BOARD ── -->
        <div id="t-board" class="tab">
          <div class="board-lay">
            <div class="board-main">
              <div class="compose-box">
                <div class="compose-hd">
                  <div class="av" style="width:36px;height:36px;background:linear-gradient(135deg,var(--rose),#ff8c7a);color:#fff;font-size:.84rem;">M</div>
                  <div style="flex:1;">
                    <div class="compose-type-row" id="type-row">
                      <button class="tychip on" onclick="selType(this)">Hangout</button>
                      <button class="tychip" onclick="selType(this)">Study Partner</button>
                      <button class="tychip" onclick="selType(this)">Movie Night</button>
                      <button class="tychip" onclick="selType(this)">Notes Share</button>
                      <button class="tychip" onclick="selType(this)">Sports</button>
                    </div>
                  </div>
                </div>
                <div style="margin-top:10px;">
                  <textarea class="compose-ta" id="compose-ta" placeholder="What's on your mind? Looking for a study partner, hangout, movie night?"></textarea>
                </div>
                <div class="compose-ft">
                  <div class="compose-tools">
                    <button class="bico" onclick="toast('Photo upload')"><svg width="15" height="15" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg></button>
                    <button class="bico" onclick="toast('Location added')"><svg width="15" height="15" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg></button>
                    <button class="bico" onclick="toast('Time added')"><svg width="15" height="15" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg></button>
                  </div>
                  <button class="btn btn-primary btn-sm" onclick="submitPost()">Post</button>
                </div>
              </div>
              <div class="post-feed" id="post-feed"></div>
            </div>
            <div class="board-sb">
              <div class="bsb-card">
                <h4>Filter by type</h4>
                <div class="bsb-type" onclick="toast('Filtering...')"><div class="bsb-dot" style="background:#E8453A;"></div>Hangout</div>
                <div class="bsb-type" onclick="toast('Filtering...')"><div class="bsb-dot" style="background:#3B82F6;"></div>Study Partner</div>
                <div class="bsb-type" onclick="toast('Filtering...')"><div class="bsb-dot" style="background:#7C3AED;"></div>Movie Night</div>
                <div class="bsb-type" onclick="toast('Filtering...')"><div class="bsb-dot" style="background:#059669;"></div>Notes Share</div>
                <div class="bsb-type" onclick="toast('Filtering...')"><div class="bsb-dot" style="background:#D97706;"></div>Sports</div>
              </div>
              <div class="bsb-card">
                <h4>Active now</h4>
                <div style="font-size:.82rem;color:var(--sub);line-height:1.8;">
                  <div style="display:flex;align-items:center;gap:6px;"><div style="width:6px;height:6px;border-radius:50%;background:var(--green);"></div>Aisha M. just posted</div>
                  <div style="display:flex;align-items:center;gap:6px;"><div style="width:6px;height:6px;border-radius:50%;background:var(--green);"></div>Dev P. is online</div>
                  <div style="display:flex;align-items:center;gap:6px;"><div style="width:6px;height:6px;border-radius:50%;background:var(--green);"></div>Rajan T. replied</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- ── NOTIFICATIONS ── -->
        <div id="t-notif" class="tab">
          <div id="notif-list"></div>
        </div>

        <!-- ── PROFILE ── -->
        <div id="t-prof" class="tab">
          <div class="prof-lay">
            <div class="prof-main">
              <div class="prof-hero">
                <div class="prof-hero-bg"></div><div class="prof-hero-ov"></div>
                <div class="prof-av-wrap"><div class="prof-av">M</div></div>
                <div class="prof-edit-btn"><button class="btn btn-outline btn-sm" style="background:rgba(255,255,255,.9);" onclick="toast('Edit profile')"><svg width="12" height="12" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg> Edit</button></div>
              </div>
              <div class="prof-bd">
                <div class="prof-name-row">
                  <div><div class="prof-name">Maya Lin</div><div class="prof-meta">Design · Senior · MIT · Cambridge, MA</div></div>
                  <button class="btn btn-outline btn-sm" onclick="toast('Profile link copied!')">Share</button>
                </div>
                <div class="prof-stats">
                  <div class="pstat"><div class="pstat-n">48</div><div class="pstat-l">Likes</div></div>
                  <div class="pstat"><div class="pstat-n">12</div><div class="pstat-l">Matches</div></div>
                  <div class="pstat"><div class="pstat-n">6</div><div class="pstat-l">Groups</div></div>
                  <div class="pstat"><div class="pstat-n">94%</div><div class="pstat-l">Profile</div></div>
                </div>
                <div class="prof-sec">
                  <div class="prof-sec-hd"><span class="prof-sec-t">About</span><button class="bico" onclick="toast('Edit bio')"><svg width="13" height="13" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg></button></div>
                  <p style="font-size:.87rem;line-height:1.72;">UX designer obsessed with clean interfaces and good coffee. Always up for a board game night, a film screening, or exploring a new neighborhood. Looking for someone to swap playlists and go on adventures with.</p>
                </div>
                <div class="prof-sec" style="margin-top:18px;">
                  <div class="prof-sec-hd"><span class="prof-sec-t">Photos</span><button class="bico" onclick="toast('Edit photos')"><svg width="13" height="13" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></button></div>
                  <div class="prof-photos">
                    <div class="pp"><div style="width:100%;height:100%;background:linear-gradient(160deg,#e8cfc8,#c9ada7)"></div></div>
                    <div class="pp"><div style="width:100%;height:100%;background:linear-gradient(160deg,#c9d5e0,#a8bfcf)"></div></div>
                    <div class="pp"><div style="width:100%;height:100%;background:linear-gradient(160deg,#d4c8b8,#b8a898)"></div></div>
                    <div class="pp"><div style="width:100%;height:100%;background:linear-gradient(160deg,#c8d4c0,#b0c2a8)"></div></div>
                    <div class="pp"><div style="width:100%;height:100%;background:linear-gradient(160deg,#e0d4c8,#c8b8a8)"></div></div>
                    <div class="pp" style="background:var(--light);border:1.5px dashed var(--border);display:flex;align-items:center;justify-content:center;cursor:pointer;" onclick="toast('Add photo')"><svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></div>
                  </div>
                </div>
                <div class="prof-sec" style="margin-top:18px;">
                  <div class="prof-sec-hd"><span class="prof-sec-t">Interests</span><button class="bico" onclick="toast('Edit interests')"><svg width="13" height="13" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg></button></div>
                  <div class="prof-tags"><span class="ptag">Design</span><span class="ptag">Film</span><span class="ptag">Chess</span><span class="ptag">Coffee</span><span class="ptag">Yoga</span><span class="ptag">Indie Music</span><span class="ptag">Board Games</span><span class="ptag">Photography</span></div>
                </div>
                <div style="height:36px;"></div>
              </div>
            </div>
            <div class="prof-sb">
              <div class="psb-card">
                <h4>Match Preferences</h4>
                <div class="pref-row"><span class="pl">Interested in</span><span class="pv">Everyone</span></div>
                <div class="pref-row"><span class="pl">Campus</span><span class="pv">MIT only</span></div>
                <div class="pref-row"><span class="pl">Age range</span><span class="pv">19 – 26</span></div>
                <div style="margin-top:10px;"><div style="font-size:.77rem;color:var(--sub);margin-bottom:4px;">Max distance</div><div class="range-wrap"><input type="range" min="1" max="50" value="10" oninput="this.parentNode.nextSibling.children[0].textContent=this.value+'mi'"><div class="range-lbl"><span>10mi</span><span>50mi</span></div></div></div>
              </div>
              <div class="psb-card">
                <h4>Account</h4>
                <div class="pref-row"><span class="pl">Email verified</span><span style="color:var(--green);font-weight:600;font-size:.81rem;">Verified .edu</span></div>
                <div class="pref-row"><span class="pl">Profile review</span><span style="color:var(--green);font-weight:600;font-size:.81rem;">Passed</span></div>
                <div class="pref-row"><span class="pl">Plan</span><span class="pv">Free</span></div>
                <button class="btn btn-primary btn-sm" style="width:100%;margin-top:10px;border-radius:10px;" onclick="toast('Upgrade to Premium')">Upgrade to Premium</button>
              </div>
              <div class="psb-card">
                <h4>Safety</h4>
                <div class="saf-item"><div class="saf-dot"></div>Profile visible to matches</div>
                <div class="saf-item"><div class="saf-dot"></div>Location is approximate</div>
                <div class="saf-item"><div class="saf-dot"></div>Report &amp; block available</div>
                <div class="saf-item" style="cursor:pointer;" onclick="signOut()"><svg width="13" height="13" fill="none" stroke="#E53E3E" stroke-width="2" viewBox="0 0 24 24"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg><span style="color:#E53E3E;font-size:.84rem;margin-left:2px;">Sign out</span></div>
              </div>
            </div>
          </div>
        </div>

      </div><!-- /main-body -->
    </div><!-- /main-wrap -->
  </div><!-- /app-shell -->

  <!-- BOTTOM NAV -->
  <nav class="bnav">
    <button class="bni on" onclick="goTab('disc',this)"><svg width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg><span>Discover</span></button>
    <button class="bni" onclick="goTab('comm',this)"><svg width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg><span>Groups</span></button>
    <button class="bni" onclick="goTab('msgs',this)"><svg width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg><span>Messages</span></button>
    <button class="bni" onclick="goTab('board',this)"><svg width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg><span>Board</span></button>
    <button class="bni" onclick="goTab('prof',this)"><div style="width:22px;height:22px;border-radius:50%;background:linear-gradient(135deg,var(--rose),#ff8c7a);display:flex;align-items:center;justify-content:center;color:#fff;font-size:.66rem;font-weight:600;">M</div><span>Profile</span></button>
  </nav>
</div>

<div class="toast" id="toast-el"></div>

<script>
// ═══ DATA ═══
const profiles=[
  {name:'Priya S.',age:21,major:'Computer Science',school:'MIT',match:94,bio:'Coffee enthusiast, competitive chess player, aspiring AI researcher. Looking for someone to debate algorithms and explore bookshops with.',interests:['Chess','Coding','Coffee','Books'],dist:'0.3 mi',c:'linear-gradient(160deg,#e8cfc8,#c9ada7)'},
  {name:'Jordan K.',age:22,major:'Economics',school:'Harvard',match:88,bio:'Econ nerd by day, amateur filmmaker by night. Can make a mean risotto and never skips leg day. Swipe right for spontaneous adventures.',interests:['Film','Hiking','Cooking','Econ'],dist:'1.2 mi',c:'linear-gradient(160deg,#c9d5e0,#a8bfcf)'},
  {name:'Alex P.',age:20,major:'Visual Design',school:'RISD',match:91,bio:'Obsessed with type, color theory, and oat milk lattes. Looking for my creative partner in crime — bonus points for strong opinions about serif fonts.',interests:['Art','Design','Photography','Yoga'],dist:'0.8 mi',c:'linear-gradient(160deg,#d4c8b8,#b8a898)'},
  {name:'Sam W.',age:23,major:'Psychology',school:'Columbia',match:76,bio:'Human behavior is my obsession, spreadsheets my guilty pleasure. Certified morning person, terrible at replying after 10pm. Let\'s go to a farmers market.',interests:['Psychology','Music','Cooking','Running'],dist:'2.1 mi',c:'linear-gradient(160deg,#c8d4c0,#b0c2a8)'},
  {name:'Riley C.',age:21,major:'Biology',school:'Yale',match:83,bio:'Pre-med but I promise I\'m fun. Huge fan of long walks, terrible puns, and staying up late talking about everything and nothing.',interests:['Science','Yoga','Travel','Plants'],dist:'0.6 mi',c:'linear-gradient(160deg,#e0d4c8,#c8b8a8)'},
];
const communities=[
  {name:'Pickleball Club',icon:'&#127955;',bg:'#fce8d4',members:340,joined:false},
  {name:'Chess Society',icon:'&#9822;',bg:'#dce8f0',members:218,joined:true},
  {name:'Film Buffs',icon:'&#127916;',bg:'#d4ead4',members:512,joined:false},
  {name:'DSA Study Group',icon:'&#128187;',bg:'#ecdcf0',members:891,joined:true},
  {name:'Gaming Guild',icon:'&#127918;',bg:'#fce8f4',members:603,joined:false},
  {name:'City Explorers',icon:'&#128506;',bg:'#ffe8cc',members:278,joined:false},
  {name:'Book Club',icon:'&#128218;',bg:'#f4e8dc',members:195,joined:false},
  {name:'Yoga & Wellness',icon:'&#129544;',bg:'#dce8f0',members:411,joined:false},
];
const grpsData=[
  {id:1,name:'Chess Society',icon:'&#9822;',bg:'#dce8f0',last:'Tournament bracket is up!',unread:2,ev:{d:'SAT',dn:14,t:'Weekly Tournament',loc:'Student Union · 3:00 PM'},msgs:[
    {r:'recv',who:'Alex',text:'Hey everyone, bracket for this week is posted!',t:'2:10 PM'},
    {r:'recv',who:'Sam',text:'I\'m matched with Jordan in round 1 😬',t:'2:12 PM'},
    {r:'sent',who:'You',text:'Good luck everyone! Should be a great match.',t:'2:15 PM'},
    {r:'recv',who:'Jordan',text:'Tournament bracket is up! Who\'s ready?',t:'2:30 PM'},
  ]},
  {id:2,name:'DSA Study Group',icon:'&#128187;',bg:'#ecdcf0',last:'Can someone explain DP again?',unread:5,ev:{d:'WED',dn:17,t:'Leetcode Session',loc:'Zoom · 7:00 PM'},msgs:[
    {r:'recv',who:'Priya',text:'Can someone help with the knapsack problem?',t:'1:00 PM'},
    {r:'sent',who:'You',text:'Sure, let me drop my notes from last week',t:'1:05 PM'},
    {r:'recv',who:'Sam',text:'Can someone explain DP again?',t:'1:20 PM'},
  ]},
  {id:3,name:'Film Buffs',icon:'&#127916;',bg:'#d4ead4',last:'Voted for Parasite this week',unread:1,ev:{d:'FRI',dn:19,t:'Movie Screening Night',loc:'Main Hall · 8:00 PM'},msgs:[
    {r:'recv',who:'Riley',text:'Voting for next movie is open!',t:'11:00 AM'},
    {r:'sent',who:'You',text:'Voted Parasite!',t:'11:10 AM'},
    {r:'recv',who:'Alex',text:'Voted for Parasite this week',t:'11:30 AM'},
  ]},
];
const convos=[
  {id:1,name:'Priya S.',c:'#e8cfc8',online:true,time:'2m',prev:'Hey! Your chess opening was wild',unread:2,msgs:[
    {r:'recv',text:'Hey! I saw we matched — your profile is so cool.',t:'3:20 PM'},
    {r:'sent',text:'Thanks! Yours too. CS at MIT must be intense.',t:'3:22 PM'},
    {r:'recv',text:'It really is lol. Chess keeps me sane though.',t:'3:23 PM'},
    {r:'sent',text:'We should play sometime! I\'m pretty decent.',t:'3:25 PM'},
    {r:'recv',text:'Hey! Your chess opening was wild 😄',t:'3:28 PM'},
  ]},
  {id:2,name:'Jordan K.',c:'#c9d5e0',online:false,time:'1h',prev:'Are you going to the film mixer?',unread:0,msgs:[
    {r:'recv',text:'Hey! Big fan of your bio haha',t:'Yesterday'},
    {r:'sent',text:'Thanks! Yours made me laugh too 😄',t:'Yesterday'},
    {r:'recv',text:'Are you going to the film mixer?',t:'Yesterday'},
  ]},
  {id:3,name:'Alex P.',c:'#d4c8b8',online:true,time:'3h',prev:'The Bauhaus exhibit was incredible',unread:1,msgs:[
    {r:'recv',text:'The Bauhaus exhibit was incredible — have you been?',t:'12:00 PM'},
  ]},
  {id:4,name:'Riley C.',c:'#c8d4c0',online:false,time:'1d',prev:'Good luck on your midterms!',unread:0,msgs:[
    {r:'recv',text:'Good luck on your midterms!',t:'Monday'},
    {r:'sent',text:'Thank you!! You too 🤞',t:'Monday'},
  ]},
];
const mPills=[{name:'Priya',c:'#e8cfc8'},{name:'Alex',c:'#d4c8b8'},{name:'Riley',c:'#c8d4c0'},{name:'Sam',c:'#e0d4c8'}];
const notifs=[
  {ico:'&#128152;',ibg:'rgba(232,69,58,0.1)',text:'<span>Priya S.</span> liked your profile',time:'2 min ago',unread:true},
  {ico:'&#128172;',ibg:'rgba(59,130,246,0.1)',text:'New message from <span>Jordan K.</span>',time:'1 hour ago',unread:true},
  {ico:'&#10003;',ibg:'rgba(34,197,94,0.1)',text:'You matched with <span>Alex P.</span> Say hello!',time:'3 hours ago',unread:false},
  {ico:'&#9822;',ibg:'rgba(168,139,206,0.1)',text:'Chess Society tournament starts <span>Saturday</span>',time:'Yesterday',unread:false},
  {ico:'&#128152;',ibg:'rgba(232,69,58,0.1)',text:'<span>Riley C.</span> liked your profile',time:'Yesterday',unread:false},
  {ico:'&#128205;',ibg:'rgba(251,146,60,0.1)',text:'New event pinned in <span>Film Buffs</span>',time:'2 days ago',unread:false},
];
const posts=[
  {aut:'Aisha M.',ini:'AM',abc:'#e8d5c8',badge:'Hangout',bc:'#E8453A',bbg:'rgba(232,69,58,0.1)',sub:'Graphic Design · Senior',time:'20 min ago',text:'Anyone down for a spontaneous coffee run around 3pm? Heading to Crema near the library. Could use a study break and good company.',likes:14,liked:false,comments:5},
  {aut:'Rajan T.',ini:'RT',abc:'#c8d8e8',badge:'Study Partner',bc:'#3B82F6',bbg:'rgba(59,130,246,0.1)',sub:'Economics · Junior',time:'1 hr ago',text:'Looking for a study partner for Econ 301 midterms. I have all lecture notes and past papers. DM if you want to set something up.',likes:8,liked:false,comments:3},
  {aut:'Lena K.',ini:'LK',abc:'#d8c8e8',badge:'Movie Night',bc:'#7C3AED',bbg:'rgba(124,58,237,0.1)',sub:'Film Studies · Senior',time:'3 hrs ago',text:'Organizing a Criterion Collection movie night this Friday at 8pm. Four films, great snacks, good people. All welcome — no film expertise needed, just love for good cinema.',likes:31,liked:true,comments:12},
  {aut:'Dev P.',ini:'DP',abc:'#c8e8d8',badge:'Notes Share',bc:'#059669',bbg:'rgba(5,150,105,0.1)',sub:'CS · Sophomore',time:'5 hrs ago',text:'Sharing my DSA lecture notes (weeks 1–9) in the DSA Study Group chat. Super organized with diagrams, complexity analysis, and worked examples.',likes:45,liked:false,comments:18},
  {aut:'Jin H.',ini:'JH',abc:'#e8e8c8',badge:'Sports',bc:'#D97706',bbg:'rgba(217,119,6,0.1)',sub:'Sports Science · Junior',time:'6 hrs ago',text:'Pickleball this Sunday at 10am — campus sports complex, court 3. Need 2 more players. Come even if you\'ve never played, we\'ll teach you!',likes:22,liked:false,comments:8},
];
const interests=['Chess','Hiking','Film','Yoga','Cooking','Gaming','Coffee','Music','Reading','Travel','Photography','Art','Coding','Running','Dancing','Rock Climbing','Sustainability','Podcasts','Volunteering','Poetry'];

// ═══ STATE ═══
let cardIdx=0,activeConvo=null,isDark=false;

// ═══ AUTH ═══
function openModal(m){
  const isSU=m==='signup';
  document.getElementById('auth-title').textContent=isSU?'Create account':'Welcome back';
  document.getElementById('auth-sub').textContent=isSU?'Use your .edu email to get started':'Sign in to your campus account';
  document.getElementById('auth-submit').textContent=isSU?'Create account':'Sign in';
  document.getElementById('name-fg').style.display=isSU?'block':'none';
  document.getElementById('auth-sw').innerHTML=isSU
    ?'Already have an account? <a onclick="openModal(\'login\')">Sign in</a>'
    :'Don\'t have an account? <a onclick="openModal(\'signup\')">Sign up</a>';
  document.getElementById('auth-ov').classList.add('on');
}
function closeOv(id){document.getElementById(id).classList.remove('on');}
function ovClick(e,id){if(e.target===document.getElementById(id))closeOv(id);}
function clearAErr(){document.getElementById('email-err').classList.remove('on');document.getElementById('inp-email').classList.remove('bad');}
function submitAuth(){
  const em=document.getElementById('inp-email').value.trim();
  if(!em.endsWith('.edu')){document.getElementById('email-err').classList.add('on');document.getElementById('inp-email').classList.add('bad');return;}
  closeOv('auth-ov');
  const isSU=document.getElementById('name-fg').style.display!=='none';
  if(isSU){buildIntGrid();document.getElementById('setup-ov').classList.add('on');}
  else launchApp();
}
function buildIntGrid(){const g=document.getElementById('int-grid');g.innerHTML=interests.map(i=>`<span class="int-chip" onclick="togInt(this,'${i}')">${i}</span>`).join('');}
function togInt(el,n){el.classList.toggle('sel');}
function addPhoto(i){const s=document.getElementById('ps'+i);const cs=['linear-gradient(160deg,#e8cfc8,#c9ada7)','linear-gradient(160deg,#c9d5e0,#a8bfcf)','linear-gradient(160deg,#d4c8b8,#b8a898)','linear-gradient(160deg,#c8d4c0,#b0c2a8)','linear-gradient(160deg,#e0d4c8,#c8b8a8)'];s.style.background=cs[i];s.innerHTML='';}
function setupNext(s){document.getElementById('sp'+(s-1)).classList.remove('on');document.getElementById('sp'+s).classList.add('on');document.getElementById('ss'+s).classList.add('done');}
function finishSetup(){document.getElementById('setup-ov').classList.remove('on');launchApp();}
function launchApp(){document.getElementById('pg-land').classList.remove('on');document.getElementById('pg-app').classList.add('on');initApp();}
function signOut(){document.getElementById('pg-app').classList.remove('on');document.getElementById('pg-land').classList.add('on');cardIdx=0;}

// ═══ INIT ═══
function initApp(){renderCards();renderCommGrid();renderGrps();renderConvos();renderPills();renderBoard();renderNotifs();}

// ═══ TABS ═══
const tabTitles={disc:'Discover',comm:'Communities',grps:'Groups',msgs:'Messages',board:'Board',notif:'Notifications',prof:'My Profile'};
function goTab(name,bnEl){
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('on'));
  document.getElementById('t-'+name).classList.add('on');
  document.querySelectorAll('.sb-btn[data-t]').forEach(b=>b.classList.remove('on'));
  const sb=document.querySelector('.sb-btn[data-t="'+name+'"]');if(sb)sb.classList.add('on');
  document.querySelectorAll('.bni').forEach(b=>b.classList.remove('on'));
  if(bnEl)bnEl.classList.add('on');
  document.getElementById('topbar-title').textContent=tabTitles[name]||name;
  document.getElementById('back-btn').classList.remove('vis');
  if(window.innerWidth<=768){
    const ml=document.getElementById('msg-list-panel');if(ml)ml.classList.remove('hidden');
    const gl=document.getElementById('grp-list-panel');if(gl)gl.classList.remove('hidden');
    const cp=document.getElementById('chat-pane');if(cp)cp.classList.add('hidden');
    const gp=document.getElementById('grp-pane');if(gp)gp.classList.add('hidden');
  }
}
function doBack(){
  const ml=document.getElementById('msg-list-panel');if(ml)ml.classList.remove('hidden');
  const gl=document.getElementById('grp-list-panel');if(gl)gl.classList.remove('hidden');
  const cp=document.getElementById('chat-pane');if(cp)cp.classList.add('hidden');
  const gp=document.getElementById('grp-pane');if(gp)gp.classList.add('hidden');
  document.getElementById('back-btn').classList.remove('vis');
}

// ═══ DISCOVER ═══
function renderCards(){
  const stage=document.getElementById('card-stage');
  stage.innerHTML='';
  const vis=[];
  for(let i=Math.min(cardIdx+2,profiles.length-1);i>=cardIdx&&i<profiles.length;i--)vis.push(i);
  if(!vis.length){
    stage.innerHTML=`<div class="empty-cards"><svg width="52" height="52" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg><h3 style="font-family:var(--serif);font-size:1.35rem;color:var(--text);">You've seen everyone!</h3><p style="font-size:.84rem;">Check back later for new profiles</p><button class="btn btn-primary btn-sm" onclick="cardIdx=0;renderCards()" style="margin-top:6px;">Start over</button></div>`;
    return;
  }
  vis.forEach((pi,vi)=>{
    const p=profiles[pi];
    const isTop=vi===vis.length-1;
    const zO=(vis.length-1-vi)*5,rO=(vi-(vis.length-1))*3;
    const card=document.createElement('div');
    card.className='scard';
    card.style.cssText=`z-index:${vi+1};transform:translateY(${zO}px) rotate(${rO}deg);`;
    card.innerHTML=`<div style="position:absolute;inset:0;background:${p.c};"></div>
      <div class="scard-ov"></div>
      <div class="scard-top">
        <div class="scard-match">${p.match}% match</div>
        <div class="scard-ver"><svg width="9" height="9" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg> .edu</div>
      </div>
      <div class="like-stamp">LIKE</div>
      <div class="pass-stamp">PASS</div>
      <div class="scard-info">
        <div class="scard-name">${p.name}, ${p.age}</div>
        <div class="scard-meta">${p.major} · ${p.school} · ${p.dist}</div>
        <div class="scard-bio">${p.bio}</div>
        <div class="scard-tags">${p.interests.map(t=>`<span class="scard-tag">${t}</span>`).join('')}</div>
      </div>
      <div class="scard-footer">
        <div class="scard-fi"><svg width="12" height="12" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/></svg>${p.dist}</div>
        <div class="scard-fi"><svg width="12" height="12" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/></svg>${p.school}</div>
        <div class="scard-fi"><svg width="12" height="12" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>${p.match}%</div>
      </div>`;
    if(isTop){card.onclick=(e)=>{if(Math.abs(card._dx||0)<10)openSheet(p);};setupDrag(card);}
    stage.appendChild(card);
  });
}
function setupDrag(card){
  let sx,sy,dx=0,dy=0,drag=false;card._dx=0;
  const start=e=>{const pt=e.touches?e.touches[0]:e;sx=pt.clientX;sy=pt.clientY;drag=true;dx=0;dy=0;card.style.transition='none';document.addEventListener('mousemove',move);document.addEventListener('mouseup',end);document.addEventListener('touchmove',move,{passive:false});document.addEventListener('touchend',end);};
  const move=e=>{if(!drag)return;if(e.cancelable)e.preventDefault();const pt=e.touches?e.touches[0]:e;dx=pt.clientX-sx;dy=pt.clientY-sy;card._dx=dx;card.style.transform=`translate(${dx}px,${dy}px) rotate(${dx*.07}deg)`;const ls=card.querySelector('.like-stamp'),ps=card.querySelector('.pass-stamp');if(ls)ls.style.opacity=Math.max(0,Math.min(1,dx/80));if(ps)ps.style.opacity=Math.max(0,Math.min(1,-dx/80));};
  const end=()=>{drag=false;document.removeEventListener('mousemove',move);document.removeEventListener('mouseup',end);document.removeEventListener('touchmove',move);document.removeEventListener('touchend',end);card.style.transition='transform .32s cubic-bezier(.25,.46,.45,.94)';if(Math.abs(dx)>90){const d=dx>0?1:-1;card.style.transform=`translate(${d*700}px,${dy}px) rotate(${d*26}deg)`;if(d>0)toast('Liked '+profiles[cardIdx].name+'!');else toast('Passed');setTimeout(()=>{cardIdx++;renderCards();},300);}else{card.style.transform='translateY(0) rotate(0)';card._dx=0;}};
  card.addEventListener('mousedown',start);card.addEventListener('touchstart',start,{passive:true});
}
function doSwipe(type){
  const stage=document.getElementById('card-stage');
  const top=stage.lastElementChild;
  if(!top||!top.classList.contains('scard'))return;
  top.style.transition='transform .32s';
  if(type==='like'){top.style.transform='translate(700px,0) rotate(24deg)';toast('Liked '+profiles[cardIdx].name+'!');}
  else if(type==='pass'){top.style.transform='translate(-700px,0) rotate(-24deg)';}
  else{top.style.transform='translate(0,-700px)';toast('Super liked! ⭐');}
  setTimeout(()=>{cardIdx++;renderCards();},300);
}
function doUndo(){if(cardIdx>0){cardIdx--;renderCards();toast('Undone');}}
function fcToggle(el){document.querySelectorAll('.fchip').forEach(c=>c.classList.remove('on'));el.classList.add('on');}

// PROFILE SHEET
function openSheet(p){
  const inner=document.getElementById('ps-inner');
  inner.innerHTML=`<div class="ps-hero"><div style="position:absolute;inset:0;background:${p.c};"></div><div class="ps-hero-ov"></div><button class="ps-close" onclick="document.getElementById('ps-ov').classList.remove('on')"><svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button></div>
  <div class="ps-bd">
    <div class="ps-name">${p.name}, ${p.age}</div>
    <div class="ps-meta">${p.major} · ${p.school} · ${p.dist} away</div>
    <div class="ps-mbar">
      <div><div class="ps-mpct">${p.match}%</div><div class="ps-ml">Compatibility score<br><span style="font-size:.73rem;">Based on interests &amp; activity</span></div></div>
      <div style="margin-left:auto;display:flex;flex-direction:column;gap:3px;text-align:right;">${p.interests.slice(0,2).map(i=>`<div style="font-size:.77rem;color:var(--sub);">&#10003; Both like ${i}</div>`).join('')}</div>
    </div>
    <p class="ps-lbl">About</p><p class="ps-bio">${p.bio}</p>
    <p class="ps-lbl" style="margin-top:14px;">Interests</p>
    <div class="ps-tags">${p.interests.map(t=>`<span class="ps-tag">${t}</span>`).join('')}</div>
    <p class="ps-lbl" style="margin-top:14px;">Photos</p>
    <div class="ps-photos">
      <div class="ps-photo" style="background:${p.c};"></div>
      <div class="ps-photo" style="background:linear-gradient(160deg,#c9d5e0,#a8bfcf);"></div>
      <div class="ps-photo" style="background:linear-gradient(160deg,#d4c8b8,#b8a898);"></div>
    </div>
    <div class="ps-acts">
      <button class="btn btn-outline" onclick="doSwipe('pass');document.getElementById('ps-ov').classList.remove('on')"><svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg> Pass</button>
      <button class="btn btn-primary" onclick="doSwipe('like');document.getElementById('ps-ov').classList.remove('on')"><svg width="16" height="16" fill="white" stroke="white" stroke-width="2" viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg> Like</button>
    </div>
    <div style="display:flex;align-items:center;gap:7px;margin-top:16px;font-size:.81rem;color:var(--sub);cursor:pointer;" onclick="toast('Link copied!')"><svg width="13" height="13" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/></svg> Report or share this profile</div>
  </div>`;
  document.getElementById('ps-ov').classList.add('on');
}
function psBg(e){if(e.target===document.getElementById('ps-ov'))document.getElementById('ps-ov').classList.remove('on');}

// ═══ COMMUNITIES ═══
function renderCommGrid(){
  const g=document.getElementById('comm-grid');
  g.innerHTML=communities.map((c,i)=>`<div class="ccard" onclick="showCommDet({name:'${c.name.replace(/'/g,"\\'")}',icon:'${c.icon}',bg:'${c.bg}',members:${c.members},desc:'Join to meet people and attend events.'})"><div class="ccover" style="background:${c.bg};">${c.icon}</div><div class="ccard-bd"><h4>${c.name}</h4><p>${c.members.toLocaleString()} members</p></div><div class="ccard-ft"><div class="cmems"><svg width="12" height="12" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/></svg>${c.members}</div><button class="jbtn ${c.joined?'jd':'j'}" onclick="event.stopPropagation();togJoin(${i},this)">${c.joined?'Joined':'Join'}</button></div></div>`).join('');
}
function togJoin(i,btn){communities[i].joined=!communities[i].joined;btn.textContent=communities[i].joined?'Joined':'Join';btn.className='jbtn '+(communities[i].joined?'jd':'j');toast(communities[i].joined?'Joined '+communities[i].name:'Left '+communities[i].name);}
function showCommDet(c){
  const det=document.getElementById('comm-det-panel');
  const main=document.getElementById('comm-main-panel');
  det.style.display='flex';det.style.flexDirection='column';det.style.overflow='hidden';
  main.style.display='none';
  document.querySelectorAll('.comm-sb-i').forEach(el=>{el.classList.remove('on');if(el.textContent.includes(c.name.substring(0,8)))el.classList.add('on');});
  const evs=[{d:'SAT',dn:14,t:'Weekly Meetup',loc:'Campus Quad · 3:00 PM',going:12},{d:'WED',dn:17,t:'Skill Workshop',loc:'Room 204 · 5:00 PM',going:8},{d:'FRI',dn:19,t:'Social Evening',loc:'Student Union · 7:30 PM',going:24}];
  det.innerHTML=`<div class="comm-det-cov" style="background:${c.bg};"><div class="comm-det-ov"></div><div class="comm-det-info"><div style="font-size:2.2rem;margin-bottom:4px;">${c.icon}</div><h2>${c.name}</h2><p>${c.members} members · Active now</p></div><div style="position:absolute;top:14px;right:14px;display:flex;gap:7px;"><button class="btn btn-primary btn-sm" onclick="toast('Joined!')">Join</button></div></div>
  <div class="comm-det-tabs">${['Events','Members','About'].map((t,i)=>`<div class="cdt ${i===0?'on':''}" onclick="document.querySelectorAll('.cdt').forEach(x=>x.classList.remove('on'));this.classList.add('on');">${t}</div>`).join('')}</div>
  <div class="comm-det-bd"><p style="font-size:.84rem;color:var(--sub);margin-bottom:14px;">${c.desc}</p>${evs.map(ev=>`<div class="ev-card"><div class="ev-hd"><div class="ev-date"><span>${ev.d}</span><strong>${ev.dn}</strong></div><div class="ev-info"><h4>${ev.t}</h4><p>${ev.loc}</p></div></div><div class="ev-rsvp"><button class="r-go" onclick="this.textContent='Going &#10003;';toast('RSVP confirmed!')">Going</button><button class="r-maybe" onclick="this.textContent='Maybe &#10003;'">Maybe</button><div class="avstack"><div class="avs" style="background:#e8cfc8;z-index:3;">P</div><div class="avs" style="background:#c9d5e0;z-index:2;">J</div><div class="avs" style="background:#d4c8b8;z-index:1;">A</div></div><span class="going-n">+${ev.going} going</span></div></div>`).join('')}</div>`;
  if(window.innerWidth<=768){document.getElementById('comm-sb-panel').classList.add('hidden');document.getElementById('back-btn').classList.add('vis');}
}

// ═══ GROUPS ═══
function renderGrps(){
  const bd=document.getElementById('grp-list-bd');
  bd.innerHTML=grpsData.map(g=>`<div class="gi" onclick="openGrp(${g.id})"><div class="gi-ico" style="background:${g.bg};">${g.icon}</div><div class="gi-meta"><h4>${g.name}</h4><p>${g.last}</p></div>${g.unread?`<div class="udot">${g.unread}</div>`:''}</div>`).join('');
}
function openGrp(id){
  const g=grpsData.find(x=>x.id===id);
  document.querySelectorAll('.gi').forEach(el=>el.classList.remove('on'));
  document.querySelectorAll('.gi')[grpsData.indexOf(g)].classList.add('on');
  const pane=document.getElementById('grp-pane');
  pane.innerHTML=`<div class="grp-hd"><div class="gi-ico" style="background:${g.bg};width:38px;height:38px;border-radius:12px;font-size:1.1rem;">${g.icon}</div><div class="grp-hd-info"><h4>${g.name}</h4><p>Community group</p></div><div class="grp-hd-acts"><button class="bico" onclick="toast('Members')"><svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg></button><button class="bico" onclick="toast('Info')"><svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg></button></div></div>
  <div class="ev-pin"><h6>Pinned Event</h6><div class="pin-ev"><div class="pin-date"><span>${g.ev.d}</span><strong>${g.ev.dn}</strong></div><div class="pin-info"><h5>${g.ev.t}</h5><p>${g.ev.loc}</p><div class="pin-rsvp"><button class="r-go" onclick="this.textContent='Going &#10003;';toast('RSVP!')">Going</button><button class="r-maybe" onclick="this.textContent='Maybe &#10003;'">Maybe</button></div></div></div></div>
  <div class="grp-msgs" id="grp-msgs-area">${g.msgs.map(m=>`<div class="mg ${m.r==='sent'?'me':''}"><div class="bub ${m.r==='sent'?'me':'them'}">${m.r!=='sent'?`<span style="font-size:.71rem;font-weight:600;display:block;margin-bottom:2px;color:var(--rose);">${m.who}</span>`:''}${m.text}</div><div class="mmeta">${m.t}</div></div>`).join('')}</div>
  <div class="chat-inp-area"><div class="chat-inp-row"><div class="chat-inp-wrap"><button class="chat-ico-btn" onclick="toast('Attach')"><svg width="15" height="15" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"/></svg></button><textarea class="chat-ta" id="grp-ta" rows="1" placeholder="Message ${g.name}..." onkeydown="if(event.key==='Enter'&&!event.shiftKey){event.preventDefault();sendGrpMsg();}"></textarea></div><button class="send-btn" onclick="sendGrpMsg()"><svg width="15" height="15" fill="none" stroke="white" stroke-width="2.5" viewBox="0 0 24 24"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></button></div></div>`;
  const m=document.getElementById('grp-msgs-area');if(m)m.scrollTop=m.scrollHeight;
  if(window.innerWidth<=768){document.getElementById('grp-list-panel').classList.add('hidden');pane.classList.remove('hidden');document.getElementById('back-btn').classList.add('vis');}
}
function sendGrpMsg(){const ta=document.getElementById('grp-ta');if(!ta||!ta.value.trim())return;const msgs=document.getElementById('grp-msgs-area');const d=document.createElement('div');d.className='mg me';const t=new Date().toLocaleTimeString('en',{hour:'2-digit',minute:'2-digit'});d.innerHTML=`<div class="bub me">${ta.value.trim()}</div><div class="mmeta">${t}</div>`;msgs.appendChild(d);msgs.scrollTop=msgs.scrollHeight;ta.value='';}

// ═══ MESSAGES ═══
function renderConvos(){
  const bd=document.getElementById('msg-list-bd');
  bd.innerHTML=convos.map(c=>`<div class="ci" id="ci-${c.id}" onclick="openConvo(${c.id})"><div class="ci-av"><div class="av" style="width:44px;height:44px;background:${c.c};font-size:.88rem;">${c.name[0]}</div>${c.online?'<div class="or"></div>':''}</div><div class="ci-bd"><div class="ci-row"><span class="ci-name">${c.name}</span><span class="ci-time">${c.time}</span></div><div class="ci-prev">${c.prev}</div></div>${c.unread?`<div class="udot">${c.unread}</div>`:''}</div>`).join('');
}
function renderPills(){
  const row=document.getElementById('match-pills');
  row.innerHTML=mPills.map((m,i)=>`<div class="mpi" onclick="openConvo(${i+1})"><div class="mpi-av"><div class="mpi-av-in av" style="background:${m.c};font-size:.88rem;">${m.name[0]}</div><div class="new-dot"></div></div><div class="mpi-name">${m.name}</div></div>`).join('');
}
function openConvo(id){
  const c=convos.find(x=>x.id===id);if(!c)return;
  activeConvo=c;
  document.querySelectorAll('.ci').forEach(el=>el.classList.remove('on'));
  const ci=document.getElementById('ci-'+id);if(ci)ci.classList.add('on');
  const pane=document.getElementById('chat-pane');
  pane.innerHTML=`<div class="chat-hd"><div style="position:relative;"><div class="av" style="width:38px;height:38px;background:${c.c};font-size:.88rem;">${c.name[0]}</div>${c.online?'<div class="or"></div>':''}</div><div class="chat-hd-info"><h4>${c.name}</h4><p>${c.online?'Active now':'Offline'}</p></div><div class="chat-hd-acts"><button class="bico" onclick="toast('Profile')"><svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg></button><button class="bico" onclick="toast('More')"><svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg></button></div></div>
  <div class="chat-msgs" id="chat-msgs-area">${c.msgs.map(m=>`<div class="mg ${m.r==='sent'?'me':''}"><div class="bub ${m.r==='sent'?'me':'them'}">${m.text}</div><div class="mmeta">${m.t}</div></div>`).join('')}</div>
  <div class="chat-inp-area"><div class="chat-extras"><button class="cex-btn" onclick="toast('Photo')"><svg width="12" height="12" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg> Photo</button><button class="cex-btn" onclick="toast('GIF')">GIF</button><button class="cex-btn" onclick="toast('Location shared')"><svg width="12" height="12" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/></svg> Location</button></div><div class="chat-inp-row"><div class="chat-inp-wrap"><textarea class="chat-ta" id="chat-ta" rows="1" placeholder="Message ${c.name}..." onkeydown="if(event.key==='Enter'&&!event.shiftKey){event.preventDefault();sendMsg();}"></textarea></div><button class="send-btn" onclick="sendMsg()"><svg width="15" height="15" fill="none" stroke="white" stroke-width="2.5" viewBox="0 0 24 24"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></button></div></div>`;
  const msgs=document.getElementById('chat-msgs-area');if(msgs)msgs.scrollTop=msgs.scrollHeight;
  if(window.innerWidth<=768){document.getElementById('msg-list-panel').classList.add('hidden');pane.classList.remove('hidden');document.getElementById('back-btn').classList.add('vis');}
}
function sendMsg(){
  const ta=document.getElementById('chat-ta');if(!ta||!ta.value.trim())return;
  const msgs=document.getElementById('chat-msgs-area');
  const d=document.createElement('div');d.className='mg me';
  const t=new Date().toLocaleTimeString('en',{hour:'2-digit',minute:'2-digit'});
  d.innerHTML=`<div class="bub me">${ta.value.trim()}</div><div class="mmeta">${t}</div>`;
  msgs.appendChild(d);msgs.scrollTop=msgs.scrollHeight;ta.value='';
  setTimeout(()=>{const tb=document.createElement('div');tb.className='mg';tb.innerHTML=`<div class="typing-bub"><span></span><span></span><span></span></div>`;msgs.appendChild(tb);msgs.scrollTop=msgs.scrollHeight;
    setTimeout(()=>{msgs.removeChild(tb);const rs=['That sounds amazing!','Haha yes exactly!','We should do that!','When are you free?','That\'s so true!'];const r=document.createElement('div');r.className='mg';r.innerHTML=`<div class="bub them">${rs[Math.floor(Math.random()*rs.length)]}</div><div class="mmeta">${new Date().toLocaleTimeString('en',{hour:'2-digit',minute:'2-digit'})}</div>`;msgs.appendChild(r);msgs.scrollTop=msgs.scrollHeight;},1600);},900);
}

// ═══ BOARD ═══
function renderBoard(){
  const feed=document.getElementById('post-feed');
  feed.innerHTML=posts.map((p,i)=>`<div class="pcard"><div class="phd"><div class="av" style="width:38px;height:38px;background:${p.abc};font-size:.8rem;">${p.ini}</div><div class="phd-info"><div class="p-aut-row"><span class="p-aut">${p.aut}</span><span class="p-badge" style="color:${p.bc};background:${p.bbg};">${p.badge}</span></div><div class="p-sub">${p.sub} · ${p.time}</div></div></div><div class="p-body">${p.text}</div><div class="p-acts"><button class="p-act ${p.liked?'liked':''}" id="pla-${i}" onclick="togLike(${i})"><svg width="15" height="15" fill="${p.liked?'currentColor':'none'}" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg><span id="lc-${i}">${p.likes}</span></button><button class="p-act" onclick="toast('Comments')"><svg width="15" height="15" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>${p.comments}</button><button class="p-act" onclick="toast('Saved!')"><svg width="15" height="15" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg>Save</button><button class="p-act" style="margin-left:auto;" onclick="toast('Shared!')"><svg width="15" height="15" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/></svg>Share</button></div></div>`).join('');
}
function togLike(i){posts[i].liked=!posts[i].liked;posts[i].likes+=posts[i].liked?1:-1;const btn=document.getElementById('pla-'+i);btn.classList.toggle('liked',posts[i].liked);btn.querySelector('svg').setAttribute('fill',posts[i].liked?'currentColor':'none');document.getElementById('lc-'+i).textContent=posts[i].likes;}
function selType(el){document.querySelectorAll('.tychip').forEach(c=>c.classList.remove('on'));el.classList.add('on');}
function submitPost(){const ta=document.getElementById('compose-ta');if(!ta.value.trim()){toast('Write something first');return;}const ty=document.querySelector('.tychip.on')?.textContent||'Hangout';posts.unshift({aut:'Maya Lin',ini:'ML',abc:'#e8cfc8',badge:ty,bc:'#E8453A',bbg:'rgba(232,69,58,0.1)',sub:'Design · Senior',time:'Just now',text:ta.value.trim(),likes:0,liked:false,comments:0});ta.value='';renderBoard();toast('Posted!');}

// ═══ NOTIFICATIONS ═══
function renderNotifs(){const list=document.getElementById('notif-list');list.innerHTML=notifs.map(n=>`<div class="nitem ${n.unread?'unread':''}" onclick="toast('Opening...')"><div class="nico" style="background:${n.ibg};">${n.ico}</div><div class="nbody"><p>${n.text}</p><div class="ntime">${n.time}</div></div>${n.unread?'<div class="nudot"></div>':''}</div>`).join('');}

// ═══ THEME ═══
function toggleDark(){isDark=!isDark;document.documentElement.toggleAttribute('data-dark',isDark);const moon=`<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>`;const sun=`<circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>`;['theme-ico','theme-ico2'].forEach(id=>{const el=document.getElementById(id);if(el)el.innerHTML=isDark?moon:sun;});}

// ═══ TOAST ═══
let toastT;
function toast(msg){const el=document.getElementById('toast-el');el.textContent=msg;el.classList.add('on');clearTimeout(toastT);toastT=setTimeout(()=>el.classList.remove('on'),2200);}
</script>
</body>
</html>
